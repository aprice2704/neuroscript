[
  {
    "spec": {
      "name": "merged_prompt",
      "groupname": "context",
      "fullname": "",
      "description": "Merges node/event data (title, body, prompt) from a list of events into a single text block, suitable for an AI prompt.",
      "args": [
        {
          "name": "events",
          "type": "list",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "A single string containing the merged text data, with duplicates removed."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "latest_event",
      "groupname": "context",
      "fullname": "",
      "description": "Finds the most recent event (by timestamp) from a list and returns its envelope as a map.",
      "args": [
        {
          "name": "events",
          "type": "list",
          "description": "",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "A map representing the envelope of the latest event, or an empty map if the list is empty."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "latest_node",
      "groupname": "context",
      "fullname": "",
      "description": "Finds the most recent event (by timestamp) from a list, retrieves its associated node from the graph, and returns the node as a map.",
      "args": [
        {
          "name": "events",
          "type": "list",
          "description": "",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "A map representing the associated node, or an empty map if the event list is empty or the node is not found."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_payload",
      "groupname": "context",
      "fullname": "",
      "description": "Extracts the business payload (data map or raw wrapper map) from a raw ns_event structure.",
      "args": [
        {
          "name": "event",
          "type": "map",
          "description": "",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "The inner payload map (which could be business data or a raw wrapper), or nil if not found."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "enqueue",
      "groupname": "fdm.workq",
      "fullname": "",
      "description": "Adds a job to a work queue.",
      "args": [
        {
          "name": "queue_id",
          "type": "string",
          "description": "The ID of the queue.",
          "required": false
        },
        {
          "name": "type",
          "type": "string",
          "description": "The job type (e.g., 'ingest.scan').",
          "required": false
        },
        {
          "name": "payload",
          "type": "string",
          "description": "JSON string or raw text payload.",
          "required": false
        },
        {
          "name": "priority",
          "type": "int",
          "description": "Priority (default 0). Higher is better.",
          "required": false
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "dequeue",
      "groupname": "fdm.workq",
      "fullname": "",
      "description": "Claims a pending job. Requires Agent Identity.",
      "args": [
        {
          "name": "types",
          "type": "list",
          "description": "Optional list of job types to filter by.",
          "required": false
        },
        {
          "name": "lease_sec",
          "type": "int",
          "description": "Lease duration in seconds (default 300).",
          "required": false
        }
      ],
      "returnType": "map"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "ack",
      "groupname": "fdm.workq",
      "fullname": "",
      "description": "Marks a job as successfully completed.",
      "args": [
        {
          "name": "job_id",
          "type": "string",
          "description": "",
          "required": false
        },
        {
          "name": "result",
          "type": "string",
          "description": "Result data/summary.",
          "required": false
        }
      ],
      "returnType": "void"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "nack",
      "groupname": "fdm.workq",
      "fullname": "",
      "description": "Marks a job as failed. May trigger retry.",
      "args": [
        {
          "name": "job_id",
          "type": "string",
          "description": "",
          "required": false
        },
        {
          "name": "reason",
          "type": "string",
          "description": "",
          "required": false
        },
        {
          "name": "delay_sec",
          "type": "int",
          "description": "Retry delay (0 = immediate).",
          "required": false
        }
      ],
      "returnType": "void"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "progress",
      "groupname": "fdm.workq",
      "fullname": "",
      "description": "Updates job progress (fuel/tokens).",
      "args": [
        {
          "name": "job_id",
          "type": "string",
          "description": "",
          "required": false
        },
        {
          "name": "fuel_rem",
          "type": "int",
          "description": "",
          "required": false
        },
        {
          "name": "tokens_rem",
          "type": "int",
          "description": "",
          "required": false
        },
        {
          "name": "msg",
          "type": "string",
          "description": "",
          "required": false
        }
      ],
      "returnType": "void"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "pause_queue",
      "groupname": "fdm.workq",
      "fullname": "",
      "description": "Pauses a queue, preventing new dequeues.",
      "args": [
        {
          "name": "queue_id",
          "type": "string",
          "description": "",
          "required": false
        }
      ],
      "returnType": "void"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "resume_queue",
      "groupname": "fdm.workq",
      "fullname": "",
      "description": "Resumes a paused queue.",
      "args": [
        {
          "name": "queue_id",
          "type": "string",
          "description": "",
          "required": false
        }
      ],
      "returnType": "void"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "create_queue",
      "groupname": "fdm.workq",
      "fullname": "",
      "description": "Creates a new work queue.",
      "args": [
        {
          "name": "project_id",
          "type": "string",
          "description": "The ID of the owning project.",
          "required": false
        },
        {
          "name": "state",
          "type": "string",
          "description": "Initial state (active/paused). Default: active.",
          "required": false
        },
        {
          "name": "max_fuel",
          "type": "int",
          "description": "Max fuel budget (0 = unlimited).",
          "required": false
        },
        {
          "name": "max_tokens",
          "type": "int",
          "description": "Max token budget (0 = unlimited).",
          "required": false
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "delete_queue",
      "groupname": "fdm.workq",
      "fullname": "",
      "description": "Deletes a work queue.",
      "args": [
        {
          "name": "queue_id",
          "type": "string",
          "description": "",
          "required": false
        }
      ],
      "returnType": "void"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "send",
      "groupname": "fdm.events",
      "fullname": "",
      "description": "Sends a pre-composed event object (from fdm.events.compose) to the FDM bus.",
      "args": [
        {
          "name": "event_object",
          "type": "map",
          "description": "A standard event object map, created with fdm.events.compose().",
          "required": true
        }
      ],
      "returnType": "bool",
      "returnHelp": "Returns true if the event was successfully published, false otherwise."
    },
    "requiresTrust": true,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_payload",
      "groupname": "fdm.events",
      "fullname": "",
      "description": "Extracts the payload from a standard event object.",
      "args": [
        {
          "name": "event_object",
          "type": "map",
          "description": "The event object received by an 'on event' handler.",
          "required": true
        }
      ],
      "returnType": "any",
      "returnHelp": "Returns the inner payload map or value."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_id",
      "groupname": "fdm.events",
      "fullname": "",
      "description": "Extracts the message ID from a standard event object.",
      "args": [
        {
          "name": "event_object",
          "type": "map",
          "description": "The event object received by an 'on event' handler.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the event's unique message ID string."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_kind",
      "groupname": "fdm.events",
      "fullname": "",
      "description": "Extracts the kind (topic) from a standard event object.",
      "args": [
        {
          "name": "event_object",
          "type": "map",
          "description": "The event object received by an 'on event' handler.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the event's kind (topic) string."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "compose",
      "groupname": "fdm.events",
      "fullname": "",
      "description": "Composes a new, standard event object suitable for sending with fdm.events.send.",
      "args": [
        {
          "name": "kind",
          "type": "string",
          "description": "The kind (topic) for the new event, e.g., 'agent.pong'.",
          "required": true
        },
        {
          "name": "payload",
          "type": "map",
          "description": "A map containing the data for the event payload.",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns the composed event object map."
    },
    "requiresTrust": true,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "persistDefinitions",
      "groupname": "ns",
      "fullname": "",
      "description": "Iterates over the current interpreter's definitions (functions and handlers) and persists them to the graph as ns/function and ns/handler nodes.",
      "returnType": "string",
      "returnHelp": "Returns 'ok' on success, or an error message."
    },
    "requiresTrust": true,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "put",
      "groupname": "fdm.persist",
      "fullname": "",
      "description": "Saves a value (string or bytes) to a storage URI.",
      "args": [
        {
          "name": "uri",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "value",
          "type": "any",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get",
      "groupname": "fdm.persist",
      "fullname": "",
      "description": "Retrieves a value from a storage URI as a string.",
      "args": [
        {
          "name": "uri",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "list",
      "groupname": "fdm.persist",
      "fullname": "",
      "description": "Lists all keys and values under a given URI prefix.",
      "args": [
        {
          "name": "uri_prefix",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "map"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "del",
      "groupname": "fdm.persist",
      "fullname": "",
      "description": "Deletes a value at a specific storage URI.",
      "args": [
        {
          "name": "uri",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "CreateRoot",
      "groupname": "FDM.Forum",
      "fullname": "",
      "description": "Creates a new standalone root node for a forum or thread.",
      "args": [
        {
          "name": "title",
          "type": "string",
          "description": "The title of the forum.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the ID (ThreadID) of the newly created forum thread."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "CreateForProject",
      "groupname": "FDM.Forum",
      "fullname": "",
      "description": "Creates a new forum thread and links it to a project.",
      "args": [
        {
          "name": "projectID",
          "type": "string",
          "description": "The NodeID of the project to associate with.",
          "required": true
        },
        {
          "name": "title",
          "type": "string",
          "description": "The title of the new forum.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the ID (ThreadID) of the newly created forum thread."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Post",
      "groupname": "FDM.Forum",
      "fullname": "",
      "description": "Posts a new message to a forum thread.",
      "args": [
        {
          "name": "threadID",
          "type": "string",
          "description": "The ID of the forum thread.",
          "required": true
        },
        {
          "name": "parentID",
          "type": "string",
          "description": "The NodeID of the message being replied to. If empty, this is a top-level post.",
          "required": false
        },
        {
          "name": "markdown",
          "type": "string",
          "description": "The markdown content of the message.",
          "required": true
        },
        {
          "name": "kind",
          "type": "string",
          "description": "Optional message kind (e.g., 'proposal', 'decision'). Defaults to 'msg'.",
          "required": false
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the ID (MessageID) of the newly created message."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Vote",
      "groupname": "FDM.Forum",
      "fullname": "",
      "description": "Submits a unipolar (+1/support, 0/abstain) vote for a message.",
      "args": [
        {
          "name": "messageID",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "value",
          "type": "float",
          "description": "The vote value, typically 1.0 for 'yes' or 0.0 for 'no'.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the NodeID of the newly created vote node."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Rate",
      "groupname": "FDM.Forum",
      "fullname": "",
      "description": "Submits a bipolar (-1..+1) quality rating for a message.",
      "args": [
        {
          "name": "messageID",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "rating",
          "type": "float",
          "description": "The rating value between -1.0 and 1.0.",
          "required": true
        },
        {
          "name": "reason",
          "type": "string",
          "description": "An optional brief justification for the rating.",
          "required": false
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the NodeID of the newly created feedback node."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Summarize",
      "groupname": "FDM.Forum",
      "fullname": "",
      "description": "Generates a summary node for a message or thread.",
      "args": [
        {
          "name": "rootID",
          "type": "string",
          "description": "The MessageID of the message or thread to summarize.",
          "required": true
        },
        {
          "name": "content",
          "type": "string",
          "description": "The summary content.",
          "required": true
        },
        {
          "name": "span",
          "type": "string",
          "description": "Optional span data.",
          "required": false
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the NodeID of the newly created forum_summary node."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "ListThread",
      "groupname": "FDM.Forum",
      "fullname": "",
      "description": "Lists messages in a forum thread, sorted by timestamp. By default, only lists messages from the current epoch.",
      "args": [
        {
          "name": "threadID",
          "type": "string",
          "description": "The ID of the forum thread to list.",
          "required": true
        },
        {
          "name": "allEpochs",
          "type": "bool",
          "description": "If true, list messages from all epochs.",
          "required": false,
          "defaultValue": false
        }
      ],
      "returnType": "slice_map",
      "returnHelp": "Returns a list of maps, where each map represents a message."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "GetContextBundle",
      "groupname": "FDM.Forum",
      "fullname": "",
      "description": "Gets the thread head and recent messages as a structured JSON object. By default, only includes messages from the current epoch.",
      "args": [
        {
          "name": "threadID",
          "type": "string",
          "description": "The ID of the forum thread.",
          "required": true
        },
        {
          "name": "count",
          "type": "int",
          "description": "The max number of recent messages to include (default 0 means all in current epoch).",
          "required": false
        },
        {
          "name": "allEpochs",
          "type": "bool",
          "description": "If true, include messages from all epochs (count applies to total).",
          "required": false,
          "defaultValue": false
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns a JSON string containing an object with 'head' (ForumHead) and 'messages' (list of Message objects)."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "ListForums",
      "groupname": "FDM.Forum",
      "fullname": "",
      "description": "Lists all available forum threads with their current head metadata.",
      "returnType": "slice_map",
      "returnHelp": "Returns a list of maps, where each map represents a forum head node's fields."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Propose",
      "groupname": "FDM.Forum",
      "fullname": "",
      "description": "Posts a formal proposal message (Tier-A), changing thread state to 'Pending'.",
      "args": [
        {
          "name": "threadID",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "title",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "purpose",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "rationale",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the ID (MessageID) of the new proposal message."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "OpenVote",
      "groupname": "FDM.Forum",
      "fullname": "",
      "description": "Opens a formal vote on a proposal (Tier-A), changing thread state to 'Voting'.",
      "args": [
        {
          "name": "threadID",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "proposalRef",
          "type": "string",
          "description": "MessageID of the proposal.",
          "required": true
        },
        {
          "name": "method",
          "type": "string",
          "description": "Voting method (e.g., 'majority', 'consensus').",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the ID (MessageID) of the new vote-open message."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Decide",
      "groupname": "FDM.Forum",
      "fullname": "",
      "description": "Posts a formal decision message (Tier-A), changing thread state to 'Decided'.",
      "args": [
        {
          "name": "threadID",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "status",
          "type": "string",
          "description": "Decision status ('adopted', 'rejected', 'tabled').",
          "required": true
        },
        {
          "name": "rationale",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "proposalRef",
          "type": "string",
          "description": "MessageID of the proposal being decided.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the ID (MessageID) of the new decision message."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Reopen",
      "groupname": "FDM.Forum",
      "fullname": "",
      "description": "Reopens a decided or closed thread (Tier-A), starting a new epoch and changing state to 'Open'.",
      "args": [
        {
          "name": "threadID",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "reason",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "decisionRef",
          "type": "string",
          "description": "MessageID of the decision being reopened.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the ID (MessageID) of the new reopen message."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Supersede",
      "groupname": "FDM.Forum",
      "fullname": "",
      "description": "Marks a thread as superseded by another (Tier-A), changing state to 'Superseded'.",
      "args": [
        {
          "name": "threadID",
          "type": "string",
          "description": "The thread being superseded.",
          "required": true
        },
        {
          "name": "successorThreadID",
          "type": "string",
          "description": "The ID of the thread that replaces this one.",
          "required": true
        },
        {
          "name": "reason",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the ID (MessageID) of the new supersede message."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "System",
      "groupname": "FDM.Forum",
      "fullname": "",
      "description": "Posts a system administration message (Tier-A), e.g., to close or archive a thread.",
      "args": [
        {
          "name": "threadID",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "status",
          "type": "string",
          "description": "System status ('closed', 'archived', 'pin', 'unpin').",
          "required": true
        },
        {
          "name": "justification",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the ID (MessageID) of the new system message."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "ListProjects",
      "groupname": "FDM.Project",
      "fullname": "",
      "description": "Lists all available projects with their core metadata.",
      "returnType": "slice_map",
      "returnHelp": "Returns a list of maps, where each map represents a project."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Create",
      "groupname": "FDM.Project",
      "fullname": "",
      "description": "Creates a new project node.",
      "args": [
        {
          "name": "id",
          "type": "string",
          "description": "Unique machine ID (e.g., 'fdm-core').",
          "required": true
        },
        {
          "name": "name",
          "type": "string",
          "description": "Human-readable name.",
          "required": true
        },
        {
          "name": "repos",
          "type": "slice_string",
          "description": "List of repository URLs.",
          "required": false
        },
        {
          "name": "goals",
          "type": "slice_string",
          "description": "List of high-level goals.",
          "required": false
        },
        {
          "name": "overlays",
          "type": "slice_string",
          "description": "List of overlay IDs.",
          "required": false
        },
        {
          "name": "teamGroupID",
          "type": "string",
          "description": "NodeID of the team group node.",
          "required": false
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map representing the new project node."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Get",
      "groupname": "FDM.Project",
      "fullname": "",
      "description": "Retrieves a project node by its unique project ID.",
      "args": [
        {
          "name": "id",
          "type": "string",
          "description": "The unique machine ID of the project.",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map representing the project node, or nil if not found."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Update",
      "groupname": "FDM.Project",
      "fullname": "",
      "description": "Updates fields on an existing project node.",
      "args": [
        {
          "name": "id",
          "type": "string",
          "description": "The unique ID of the project to update.",
          "required": true
        },
        {
          "name": "fields",
          "type": "map",
          "description": "A map of field names (string) to new values (any).",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map representing the updated project node."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_noetic_script",
      "groupname": "fdm.agent",
      "fullname": "",
      "description": "Retrieves the agent's own startup (Noetic) script source.",
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_charter_capsule",
      "groupname": "fdm.agent",
      "fullname": "",
      "description": "Retrieves the contents of the agent's charter capsule.",
      "returnType": "any"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_message_handler_capsule",
      "groupname": "fdm.agent",
      "fullname": "",
      "description": "Retrieves the contents of the agent's message handler capsule.",
      "returnType": "any"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Publish",
      "groupname": "FDM.Bus",
      "fullname": "",
      "description": "Publishes a message to a topic on the FDM event bus (fire-and-forget). Payload must be Base64 encoded. Source is automatically set from the calling agent's context.",
      "args": [
        {
          "name": "topic",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "payload_base64",
          "type": "string",
          "description": "Base64 encoded string representing the payload bytes.",
          "required": true
        },
        {
          "name": "scope",
          "type": "string",
          "description": "Optional scope.",
          "required": false
        },
        {
          "name": "correlationId",
          "type": "string",
          "description": "Optional correlation ID.",
          "required": false
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the unique message ID assigned to the published event."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Request",
      "groupname": "FDM.Bus",
      "fullname": "",
      "description": "Sends a request message and waits for a reply. Request payload must be Base64 encoded. Source is automatically set from the calling agent's context.",
      "args": [
        {
          "name": "topic",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "payload_base64",
          "type": "string",
          "description": "Base64 encoded string representing the request payload bytes.",
          "required": true
        },
        {
          "name": "scope",
          "type": "string",
          "description": "Optional scope.",
          "required": false
        },
        {
          "name": "timeoutMs",
          "type": "int",
          "description": "Optional timeout (default 5s).",
          "required": false
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the reply payload as a string, or an error on timeout."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "admin_add_mount",
      "groupname": "FDM.Store",
      "fullname": "",
      "description": "Adds a mount point to the persistence router (privileged).",
      "args": [
        {
          "name": "mount_definition",
          "type": "map",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns a confirmation message."
    },
    "requiresTrust": true,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "admin_add_alias",
      "groupname": "FDM.Store",
      "fullname": "",
      "description": "Adds an alias to the persistence router (privileged).",
      "args": [
        {
          "name": "alias_name",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "target_uri",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns a confirmation message."
    },
    "requiresTrust": true,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "put",
      "groupname": "FDM.Store",
      "fullname": "",
      "description": "Saves a value to the persistence layer.",
      "args": [
        {
          "name": "uri",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "value",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns 'ok' on success."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get",
      "groupname": "FDM.Store",
      "fullname": "",
      "description": "Retrieves a value from the persistence layer.",
      "args": [
        {
          "name": "uri",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the stored value as a string, or nil if not found."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "list",
      "groupname": "FDM.Store",
      "fullname": "",
      "description": "Lists keys and values under a given URI prefix.",
      "args": [
        {
          "name": "uri_prefix",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map where keys are full URIs and values are stored strings."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "delete",
      "groupname": "FDM.Store",
      "fullname": "",
      "description": "Deletes a value from the persistence layer.",
      "args": [
        {
          "name": "uri",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns 'ok' on success."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "ExecutePlan",
      "groupname": "fs",
      "fullname": "",
      "description": "Executes a declarative traversal plan (plan_walk).",
      "args": [
        {
          "name": "plan_id",
          "type": "string",
          "description": "The NodeID of the plan_walk to execute.",
          "required": true
        }
      ],
      "returnType": "any",
      "returnHelp": "Returns the result of the operation."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "ListGlossary",
      "groupname": "FDM.NatLang",
      "fullname": "",
      "description": "Lists all glossary terms extracted from documentation.",
      "returnType": "slice_map",
      "returnHelp": "Returns a list of maps, each representing a doc/glossary node (term, definition)."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "ListPolicies",
      "groupname": "FDM.NatLang",
      "fullname": "",
      "description": "Lists all policies and normative rules extracted from documentation.",
      "returnType": "slice_map",
      "returnHelp": "Returns a list of maps, each representing a doc/policy node (rule, confidence)."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "ListEvents",
      "groupname": "FDM.NatLang",
      "fullname": "",
      "description": "Lists all event contracts extracted from documentation.",
      "returnType": "slice_map",
      "returnHelp": "Returns a list of maps, each representing a doc/event node (topic, schema)."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "ListLifecycles",
      "groupname": "FDM.NatLang",
      "fullname": "",
      "description": "Lists all state machine lifecycles extracted from documentation.",
      "returnType": "slice_map",
      "returnHelp": "Returns a list of maps, each representing a doc/lifecycle node (entity, states)."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "init_identity",
      "groupname": "fdm.agent",
      "fullname": "",
      "description": "Initializes a new core identity (FDM or SAI). Privileged.",
      "args": [
        {
          "name": "name",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "storage_uri",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "set_as_core",
          "type": "bool",
          "description": "",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map containing details of the created identity (name, ulid, did, public_key, created_at, storage_uri)."
    },
    "requiresTrust": true,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "register_agent",
      "groupname": "fdm.agent",
      "fullname": "",
      "description": "Creates a signed agent node in the FDM. Privileged.",
      "args": [
        {
          "name": "identity_uri",
          "type": "string",
          "description": "The storage URI of the agent's identity document.",
          "required": true
        },
        {
          "name": "script_capsule",
          "type": "string",
          "description": "The capsule URI for the agent's script (e.g., 'capsule/my-agent').",
          "required": true
        },
        {
          "name": "agent_model",
          "type": "string",
          "description": "The registered name of the model for the agent (e.g., 'gpt-4o').",
          "required": true
        },
        {
          "name": "charter_capsule_id",
          "type": "string",
          "description": "The capsule name/URI for the agent's charter (e.g., 'capsule/sai_charter').",
          "required": false
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map representing the newly created agent node."
    },
    "requiresTrust": true,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "is_identity_set",
      "groupname": "fdm.agent",
      "fullname": "",
      "description": "Returns true if the FDM core identity has already been set.",
      "returnType": "bool",
      "returnHelp": "Returns true if the core identity is set, false otherwise."
    },
    "requiresTrust": true,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "grant_caps",
      "groupname": "fdm.agent",
      "fullname": "",
      "description": "Grants one or more capabilities to an agent by creating grant nodes.",
      "args": [
        {
          "name": "agent_did",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "capabilities",
          "type": "any",
          "description": "",
          "required": true
        }
      ],
      "returnType": "slice",
      "returnHelp": "Returns a list of maps, each representing a created grant node."
    },
    "requiresTrust": true,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "set_agent_descriptor",
      "groupname": "fdm.agent",
      "fullname": "",
      "description": "Creates or updates an agent's runtime descriptor node.",
      "args": [
        {
          "name": "agent_did",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "interpreter",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "default_tools",
          "type": "slice",
          "description": "",
          "required": false
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map representing the created agent descriptor node."
    },
    "requiresTrust": true,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_sai_did",
      "groupname": "fdm.admin",
      "fullname": "",
      "description": "Returns the DID of the Supervising AI (SAI), which is the core identity of the FDM.",
      "returnType": "string",
      "returnHelp": "Returns the DID string of the SAI, or an error if not set."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "set_sai_did",
      "groupname": "fdm.admin",
      "fullname": "",
      "description": "Sets the DID of the Supervising AI (SAI) for the FDM instance. Privileged.",
      "args": [
        {
          "name": "did",
          "type": "string",
          "description": "The DID to set for the SAI.",
          "required": true
        }
      ],
      "returnType": "bool",
      "returnHelp": "Returns true on success."
    },
    "requiresTrust": true,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "new",
      "groupname": "fdm.ctxeng",
      "fullname": "",
      "description": "Creates a new Context Engine instance.",
      "args": [
        {
          "name": "model",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "max_tokens",
          "type": "int",
          "description": "",
          "required": true
        },
        {
          "name": "reserved_out",
          "type": "int",
          "description": "",
          "required": true
        },
        {
          "name": "safety_pct",
          "type": "float",
          "description": "",
          "required": false
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "new_from_policy",
      "groupname": "fdm.ctxeng",
      "fullname": "",
      "description": "Creates a new Context Engine using a graph-backed context policy.",
      "args": [
        {
          "name": "policy_id",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "clone",
      "groupname": "fdm.ctxeng",
      "fullname": "",
      "description": "Clones an existing engine handle.",
      "args": [
        {
          "name": "handle",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "release",
      "groupname": "fdm.ctxeng",
      "fullname": "",
      "description": "Frees the engine handle.",
      "args": [
        {
          "name": "handle",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "bool"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "snapshot",
      "groupname": "fdm.ctxeng",
      "fullname": "",
      "description": "Persists a context snapshot into the FDM graph.",
      "args": [
        {
          "name": "handle",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "reason",
          "type": "string",
          "description": "",
          "required": false
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "add_system",
      "groupname": "fdm.ctxeng",
      "fullname": "",
      "description": "Adds a system instruction layer.",
      "args": [
        {
          "name": "handle",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "text",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "options",
          "type": "map",
          "description": "",
          "required": false
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "add_user",
      "groupname": "fdm.ctxeng",
      "fullname": "",
      "description": "Adds a user instruction layer.",
      "args": [
        {
          "name": "handle",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "text",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "options",
          "type": "map",
          "description": "",
          "required": false
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "add_file",
      "groupname": "fdm.ctxeng",
      "fullname": "",
      "description": "Adds a file content layer with fencing.",
      "args": [
        {
          "name": "handle",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "path",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "content",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "options",
          "type": "map",
          "description": "",
          "required": false
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "recall",
      "groupname": "fdm.ctxeng",
      "fullname": "",
      "description": "Semantically searches the FDM graph for relevant text.",
      "args": [
        {
          "name": "handle",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "query",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "limit",
          "type": "int",
          "description": "",
          "required": false
        },
        {
          "name": "options",
          "type": "map",
          "description": "",
          "required": false
        }
      ],
      "returnType": "list",
      "returnHelp": "Returns a list of relevant text chunks found in the graph."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "fit",
      "groupname": "fdm.ctxeng",
      "fullname": "",
      "description": "Attempts to fit content within budget.",
      "args": [
        {
          "name": "handle",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "map"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "render",
      "groupname": "fdm.ctxeng",
      "fullname": "",
      "description": "Renders the final prompt string.",
      "args": [
        {
          "name": "handle",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "map"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "outline",
      "groupname": "fdm.ctxeng",
      "fullname": "",
      "description": "Returns the debug manifest.",
      "args": [
        {
          "name": "handle",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "map"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "CreateCapsule",
      "groupname": "fdm.capsule",
      "fullname": "",
      "description": "Creates a new fdm/capsule node from a raw content string.",
      "args": [
        {
          "name": "content",
          "type": "string",
          "description": "The full, raw string content of the .md or .ns capsule file.",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map representing the newly created node, including its ID and type."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Path",
      "groupname": "walk",
      "fullname": "",
      "description": "Returns the logical path of the item.",
      "args": [
        {
          "name": "handle",
          "type": "handle",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Size",
      "groupname": "walk",
      "fullname": "",
      "description": "Returns the size of the item in bytes.",
      "args": [
        {
          "name": "handle",
          "type": "handle",
          "description": "",
          "required": true
        }
      ],
      "returnType": "int"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "IsDir",
      "groupname": "walk",
      "fullname": "",
      "description": "Returns true if the item is a container/directory.",
      "args": [
        {
          "name": "handle",
          "type": "handle",
          "description": "",
          "required": true
        }
      ],
      "returnType": "bool"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "ModTime",
      "groupname": "walk",
      "fullname": "",
      "description": "Returns the modification time (Unix Nano).",
      "args": [
        {
          "name": "handle",
          "type": "handle",
          "description": "",
          "required": true
        }
      ],
      "returnType": "int"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "NodeID",
      "groupname": "walk",
      "fullname": "",
      "description": "Returns the FDM NodeID if available (Overlay only), or empty string (FS).",
      "args": [
        {
          "name": "handle",
          "type": "handle",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "CreateNode",
      "groupname": "fdm.graph",
      "fullname": "",
      "description": "Creates a new node in the FDM.",
      "args": [
        {
          "name": "type",
          "type": "string",
          "description": "The NodeType for the new node (e.g., 'fdm/task').",
          "required": true
        },
        {
          "name": "fields",
          "type": "map",
          "description": "A map of initial field data for the node.",
          "required": false
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map representing the newly created node, including its ID."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "GetNode",
      "groupname": "fdm.graph",
      "fullname": "",
      "description": "Retrieves a handle to a single node by its ID. Returns nil if not found.",
      "args": [
        {
          "name": "id",
          "type": "string",
          "description": "The ID of the node to retrieve.",
          "required": true
        }
      ],
      "returnType": "any",
      "returnHelp": "Returns a map representing the node's data, or nil if not found."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "DeleteNode",
      "groupname": "fdm.graph",
      "fullname": "",
      "description": "Deletes (tombstones) a node by its ID from the FDM.",
      "args": [
        {
          "name": "id",
          "type": "string",
          "description": "The ID of the node to delete.",
          "required": true
        }
      ],
      "returnType": "bool",
      "returnHelp": "Returns true on success."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "GetRoots",
      "groupname": "fdm.graph",
      "fullname": "",
      "description": "Retrieves the root nodes of a given FSI index.",
      "args": [
        {
          "name": "index_id",
          "type": "string",
          "description": "The ID of the FSI index (e.g., 'fsi:main').",
          "required": true
        }
      ],
      "returnType": "slice_string",
      "returnHelp": "Returns a list of root node IDs."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "GetChildren",
      "groupname": "fdm.graph",
      "fullname": "",
      "description": "Retrieves the child nodes of a given parent node in an FSI index.",
      "args": [
        {
          "name": "index_id",
          "type": "string",
          "description": "The ID of the FSI index.",
          "required": true
        },
        {
          "name": "parent_id",
          "type": "string",
          "description": "The ID of the parent node.",
          "required": true
        }
      ],
      "returnType": "slice_string",
      "returnHelp": "Returns a list of child node IDs."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "GetNodesByType",
      "groupname": "fdm.graph",
      "fullname": "",
      "description": "Retrieves all nodes of a specific type from the type index.",
      "args": [
        {
          "name": "node_type",
          "type": "string",
          "description": "The node type to query (e.g., 'fdm/agent_model').",
          "required": true
        }
      ],
      "returnType": "slice",
      "returnHelp": "Returns a list of maps, where each map represents a node."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "GetNodeTypeCounts",
      "groupname": "fdm.graph",
      "fullname": "",
      "description": "Retrieves a map of all node types and their counts from the type index.",
      "returnType": "map",
      "returnHelp": "Returns a map where keys are node types (string) and values are the counts (int)."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Query",
      "groupname": "FDM",
      "fullname": "",
      "description": "Performs a filtered query for nodes in the FDM.",
      "args": [
        {
          "name": "filter",
          "type": "map",
          "description": "A map defining the filter criteria (e.g., {'type': 'agent', 'agent:class': 'ai'}).",
          "required": true
        },
        {
          "name": "limit",
          "type": "int",
          "description": "An optional maximum number of results to return.",
          "required": false
        }
      ],
      "returnType": "slice_map",
      "returnHelp": "Returns a list of maps, where each map represents a matched node."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "RegisterOverlay",
      "groupname": "FDM",
      "fullname": "",
      "description": "Creates and registers a standard, named overlay required by a script.",
      "args": [
        {
          "name": "overlayName",
          "type": "string",
          "description": "The name of the overlay to register (e.g., 'forum:vote').",
          "required": true
        }
      ],
      "returnType": "bool",
      "returnHelp": "Returns true on success or if already registered."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "ListMeta",
      "groupname": "FDM.Overlays",
      "fullname": "",
      "description": "Lists metadata for all registered overlays.",
      "returnType": "slice_map",
      "returnHelp": "Returns a list of maps, where each map contains metadata about an overlay: id, kind, label, node_count, file_count"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Find",
      "groupname": "FDM.Symbol",
      "fullname": "",
      "description": "Finds all definitions of a given Go symbol.",
      "args": [
        {
          "name": "symbolName",
          "type": "string",
          "description": "The exact name of the symbol to find (e.g., 'NewFDM').",
          "required": true
        }
      ],
      "returnType": "slice_map",
      "returnHelp": "Returns a list of maps, each detailing a symbol definition with keys: 'file', 'pos', 'kind', 'recv'."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Create",
      "groupname": "FDM.Plan",
      "fullname": "",
      "description": "Creates a new, empty ingest_plan node for a given repository path.",
      "args": [
        {
          "name": "repoPath",
          "type": "string",
          "description": "The local filesystem path to the repository to be ingested.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the NodeID of the newly created ingest_plan node."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "AddOverlay",
      "groupname": "FDM.Plan",
      "fullname": "",
      "description": "Adds an overlay to an ingest_plan, creating a new version of the plan.",
      "args": [
        {
          "name": "planID",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "overlayID",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the NodeID of the new, updated ingest_plan node."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "AddIndex",
      "groupname": "FDM.Plan",
      "fullname": "",
      "description": "Adds an index to an ingest_plan, creating a new version of the plan.",
      "args": [
        {
          "name": "planID",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "indexID",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the NodeID of the new, updated ingest_plan node."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "AddIgnorePatterns",
      "groupname": "FDM.Plan",
      "fullname": "",
      "description": "Adds a list of glob patterns to an ingest_plan's ignore list.",
      "args": [
        {
          "name": "planID",
          "type": "string",
          "description": "The NodeID of the ingest_plan to modify.",
          "required": true
        },
        {
          "name": "patterns",
          "type": "any",
          "description": "A list of glob patterns to add (e.g., ['**/node_modules', '*.log']).",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the NodeID of the new, updated ingest_plan node."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "SetRespectGitignore",
      "groupname": "FDM.Plan",
      "fullname": "",
      "description": "Sets whether the ingestion plan should respect .gitignore files.",
      "args": [
        {
          "name": "planID",
          "type": "string",
          "description": "The NodeID of the ingest_plan to modify.",
          "required": true
        },
        {
          "name": "respect",
          "type": "bool",
          "description": "Set to true to respect .gitignore, false to ignore it.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the NodeID of the new, updated ingest_plan node."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "AddExcludeMIMETypes",
      "groupname": "FDM.Plan",
      "fullname": "",
      "description": "Adds a list of MIME types to the plan's exclusion list.",
      "args": [
        {
          "name": "planID",
          "type": "string",
          "description": "The NodeID of the ingest_plan to modify.",
          "required": true
        },
        {
          "name": "mimeTypes",
          "type": "any",
          "description": "A list of MIME type strings to exclude (e.g., ['image/png', 'application/pdf']).",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the NodeID of the new, updated ingest_plan node."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Ingest",
      "groupname": "FDM.Repo",
      "fullname": "",
      "description": "Executes a full ingestion process by walking the entire repository based on a specified ingest_plan.",
      "args": [
        {
          "name": "planID",
          "type": "string",
          "description": "The NodeID of the ingest_plan to execute.",
          "required": true
        }
      ],
      "returnType": "bool",
      "returnHelp": "Returns true on successful completion of the ingestion."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "IngestChanges",
      "groupname": "FDM.Repo",
      "fullname": "",
      "description": "Executes an incremental ingestion process for a specified list of changed files.",
      "args": [
        {
          "name": "planID",
          "type": "string",
          "description": "The NodeID of the ingest_plan to use for context.",
          "required": true
        },
        {
          "name": "filePaths",
          "type": "any",
          "description": "A list of file paths that have been added or changed.",
          "required": true
        }
      ],
      "returnType": "bool",
      "returnHelp": "Returns true on successful completion of the incremental ingestion."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "census",
      "groupname": "fdm.code",
      "fullname": "",
      "description": "Scans a Go repository and populates the FDM graph with module/package/file/import nodes.",
      "args": [
        {
          "name": "repo_path",
          "type": "string",
          "description": "Path to the Go module root.",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns statistics of the scan (modules, packages, files, imports)."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "CreateAccount",
      "groupname": "fdm.account",
      "fullname": "",
      "description": "Creates a new fdm/account node in the FDM graph.",
      "args": [
        {
          "name": "fields",
          "type": "map",
          "description": "A map of account fields (name, kind, provider, api_key, etc.).",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map representing the newly created node, including its ID and type."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "add_mount",
      "groupname": "fdm.persist_admin",
      "fullname": "",
      "description": "Adds a new mount to the storage configuration. Privileged.",
      "args": [
        {
          "name": "mount_definition",
          "type": "map",
          "description": "A map defining the mount, e.g., {'prefix':'store://...','buckets':['b1']}",
          "required": false
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": true,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "add_alias",
      "groupname": "fdm.persist_admin",
      "fullname": "",
      "description": "Adds a new alias to the storage configuration. Privileged.",
      "args": [
        {
          "name": "alias_name",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "target_uri",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": true,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "set_bootstrap_config",
      "groupname": "system",
      "fullname": "",
      "description": "Sets the system's core bootstrap configuration. This is a privileged operation.",
      "args": [
        {
          "name": "fdm_name",
          "type": "string",
          "description": "The human-readable name for this FDM instance.",
          "required": true
        },
        {
          "name": "sai_agent_id",
          "type": "string",
          "description": "The full Agent ID (e.g., 'did:zadeh:sai') of the designated SAI.",
          "required": true
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "GetOrCreateByDID",
      "groupname": "fdm.agent",
      "fullname": "",
      "description": "Finds an agent node by DID, creating a basic agent node if it doesn't exist.",
      "args": [
        {
          "name": "did",
          "type": "string",
          "description": "The decentralized identifier of the agent.",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map representing the found or newly created agent node."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "AssignModel",
      "groupname": "fdm.agent",
      "fullname": "",
      "description": "Assigns a specific AI model to an agent node by creating a new version of the node.",
      "args": [
        {
          "name": "did",
          "type": "string",
          "description": "The DID of the agent to modify.",
          "required": true
        },
        {
          "name": "modelName",
          "type": "string",
          "description": "The registered name of the model to assign (e.g., 'gpt-4o').",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map representing the updated agent node."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "SetRole",
      "groupname": "fdm.agent",
      "fullname": "",
      "description": "Sets the 'core:role' field on an agent node, creating a new version.",
      "args": [
        {
          "name": "agent_map",
          "type": "map",
          "description": "A map representing the agent node (must include 'id').",
          "required": true
        },
        {
          "name": "role",
          "type": "string",
          "description": "The role string to set (e.g., 'developer', 'reviewer').",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map representing the updated agent node."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "LoadScriptSigned",
      "groupname": "fdm.agent",
      "fullname": "",
      "description": "Updates an agent node with a script path and signature, creating a new version.",
      "args": [
        {
          "name": "agent_map",
          "type": "map",
          "description": "A map representing the agent node (must include 'id').",
          "required": true
        },
        {
          "name": "script_path",
          "type": "string",
          "description": "The path or identifier for the agent's script source.",
          "required": true
        },
        {
          "name": "signature",
          "type": "string",
          "description": "The signature verifying the script's authenticity.",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map representing the updated agent node."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "ListDir",
      "groupname": "FDM.FS",
      "fullname": "",
      "description": "Lists the contents of a directory in the FDM.",
      "args": [
        {
          "name": "dirPath",
          "type": "string",
          "description": "The path of the directory to list.",
          "required": true
        },
        {
          "name": "recursive",
          "type": "bool",
          "description": "If true, lists contents recursively.",
          "required": false
        }
      ],
      "returnType": "slice_map",
      "returnHelp": "Returns a list of maps (file/dir nodes), or empty list."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Lookup",
      "groupname": "FDM.FS",
      "fullname": "",
      "description": "Looks up a specific path in the filesystem overlay.",
      "args": [
        {
          "name": "path",
          "type": "string",
          "description": "The exact path to look up.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the NodeID string, or nil if not found."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "History",
      "groupname": "FDM.FS",
      "fullname": "",
      "description": "Retrieves the rename/move history for a given path.",
      "args": [
        {
          "name": "path",
          "type": "string",
          "description": "The current path to trace history for.",
          "required": true
        }
      ],
      "returnType": "slice_map",
      "returnHelp": "Returns a list of maps (rename nodes), or empty list."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Rename",
      "groupname": "FDM.FS",
      "fullname": "",
      "description": "Records a rename/move event for a file or directory.",
      "args": [
        {
          "name": "srcPath",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "dstPath",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map representing the created fs_rename node."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "patch",
      "groupname": "FDM.File",
      "fullname": "",
      "description": "Applies a diff patch to a file, writes it to disk, and triggers relevant FDM updates via events.",
      "args": [
        {
          "name": "path",
          "type": "string",
          "description": "The repository-relative path to the file to patch.",
          "required": true
        },
        {
          "name": "patchText",
          "type": "string",
          "description": "The patch content in standard diff format.",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map with 'accepted': true and 'receipt_id' on success."
    },
    "requiresTrust": false,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "write"
        ],
        "Scopes": null
      }
    ],
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "unlock",
      "groupname": "fdm.kms",
      "fullname": "",
      "description": "Unseals the Key Management Service. Privileged.",
      "args": [
        {
          "name": "passphrase",
          "type": "string",
          "description": "",
          "required": false
        },
        {
          "name": "raw_key_b64",
          "type": "string",
          "description": "",
          "required": false
        }
      ],
      "returnType": "map"
    },
    "requiresTrust": true,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "lock",
      "groupname": "fdm.kms",
      "fullname": "",
      "description": "Seals the Key Management Service. Privileged.",
      "returnType": "map"
    },
    "requiresTrust": true,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "status",
      "groupname": "fdm.kms",
      "fullname": "",
      "description": "Gets the current status of the Key Management Service.",
      "returnType": "map"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "generate",
      "groupname": "fdm.kms",
      "fullname": "",
      "description": "Generates a new named key. Privileged.",
      "args": [
        {
          "name": "label",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "kind",
          "type": "string",
          "description": "One of: Ed25519, X25519, HMAC, AES256",
          "required": true
        }
      ],
      "returnType": "map"
    },
    "requiresTrust": true,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "sign",
      "groupname": "fdm.kms",
      "fullname": "",
      "description": "Signs a message with a named key.",
      "args": [
        {
          "name": "label",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "data_b64",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "key_id",
          "type": "string",
          "description": "",
          "required": false
        }
      ],
      "returnType": "map"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_public",
      "groupname": "fdm.kms",
      "fullname": "",
      "description": "Retrieves the public key for a named asymmetric key.",
      "args": [
        {
          "name": "label",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "key_id",
          "type": "string",
          "description": "",
          "required": false
        }
      ],
      "returnType": "map"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "list",
      "groupname": "fdm.agents",
      "fullname": "",
      "description": "Lists all currently active agents and their status.",
      "returnType": "list",
      "returnHelp": "Returns a list of maps, where each map contains details for an agent: 'id', 'name', 'class', 'status', 'activity', 'model_name', 'role'."
    },
    "requiresTrust": true,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "text",
      "groupname": "ai.embed",
      "fullname": "",
      "description": "Generates a semantic vector embedding for the given text.",
      "args": [
        {
          "name": "text",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "list",
      "returnHelp": "A list of floating point numbers representing the vector."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "List",
      "groupname": "FDM.Services",
      "fullname": "",
      "description": "Lists the status of all registered FDM services.",
      "returnType": "slice_map",
      "returnHelp": "Returns a list of maps, each detailing a service: id, status, priority, info."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "CountTokens",
      "groupname": "fdm.llm",
      "fullname": "",
      "description": "Counts the tokens for a given text using a specified agent's model.",
      "args": [
        {
          "name": "agent_name",
          "type": "string",
          "description": "The name of the agent model (e.g., 'my-gemini-agent').",
          "required": true
        },
        {
          "name": "text",
          "type": "string",
          "description": "The text content to count tokens for.",
          "required": true
        }
      ],
      "returnType": "int",
      "returnHelp": "Returns the total token count as an integer. Returns 0 on any error."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Send",
      "groupname": "FDM.IPC",
      "fullname": "",
      "description": "Encodes arbitrary data into a high-performance binary envelope and sends it to a connected IPC client like Lotfi.",
      "args": [
        {
          "name": "data",
          "type": "any",
          "description": "The data (map, list, string, etc.) to send.",
          "required": true
        }
      ],
      "returnType": "bool",
      "returnHelp": "Returns true on success, false otherwise."
    },
    "requiresTrust": false,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "ipc",
        "Verbs": [
          "write"
        ],
        "Scopes": null
      }
    ],
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "FindSymbol",
      "groupname": "FDM.SIO",
      "fullname": "",
      "description": "Finds all definitions of a given Go symbol from the Symbol Index Overlay.",
      "args": [
        {
          "name": "symbolName",
          "type": "string",
          "description": "The exact symbol name (e.g., 'NewFDM').",
          "required": true
        }
      ],
      "returnType": "slice_map",
      "returnHelp": "Returns a list of maps detailing symbol locations: NodeID, FilePath, Kind, Position, Recv."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "CreateAgentModel",
      "groupname": "fdm.agentmodel",
      "fullname": "",
      "description": "Creates a new fdm/agent_model node in the FDM graph.",
      "args": [
        {
          "name": "fields",
          "type": "map",
          "description": "A map of agent model fields (name, provider, model, account_name, etc.).",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map representing the newly created node, including its ID and type."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_identity",
      "groupname": "fdm.agent",
      "fullname": "",
      "description": "Retrieves the agent's own core identity attributes.",
      "returnType": "map"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_model",
      "groupname": "fdm.agent",
      "fullname": "",
      "description": "Retrieves the agent's own default agent_model node.",
      "returnType": "map"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_node",
      "groupname": "fdm.agent",
      "fullname": "",
      "description": "Retrieves the agent's own FDM node.",
      "returnType": "map"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_model_name",
      "groupname": "fdm.agent",
      "fullname": "",
      "description": "Retrieves the registered name of the agent's own default agent_model.",
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_identities",
      "groupname": "fdm.agent",
      "fullname": "",
      "description": "Retrieves the public identity (DID, name, class, status, activity) of all agents in the FDM, as a map keyed by DID.",
      "returnType": "map"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_forum",
      "groupname": "FDM.Overlays",
      "fullname": "",
      "description": "Returns the canonical name of the forum overlay.",
      "returnType": "string",
      "returnHelp": "The string ID of the forum overlay (e.g., 'forum')."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_fco",
      "groupname": "FDM.Overlays",
      "fullname": "",
      "description": "Returns the canonical name of the File Content Overlay (FCO).",
      "returnType": "string",
      "returnHelp": "The string ID of the File Content Overlay (e.g., 'fco:git')."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_fileoverlay",
      "groupname": "FDM.Overlays",
      "fullname": "",
      "description": "Returns the canonical name of the File Overlay.",
      "returnType": "string",
      "returnHelp": "The string ID of the File Overlay (e.g., 'file')."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_fso",
      "groupname": "FDM.Overlays",
      "fullname": "",
      "description": "Returns the canonical name of the Filesystem Overlay.",
      "returnType": "string",
      "returnHelp": "The string ID of the Filesystem Overlay (e.g., 'fso:git')."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_fvo",
      "groupname": "FDM.Overlays",
      "fullname": "",
      "description": "Returns the canonical name of the File Version Overlay.",
      "returnType": "string",
      "returnHelp": "The string ID of the File Version Overlay (e.g., 'fvo')."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_legacy",
      "groupname": "FDM.Overlays",
      "fullname": "",
      "description": "Returns the canonical name of the legacy overlay.",
      "returnType": "string",
      "returnHelp": "The string ID of the legacy overlay (e.g., 'legacy')."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_natlang",
      "groupname": "FDM.Overlays",
      "fullname": "",
      "description": "Returns the canonical name of the natural language overlay.",
      "returnType": "string",
      "returnHelp": "The string ID of the natural language overlay (e.g., 'natlang')."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_neuromorphic",
      "groupname": "FDM.Overlays",
      "fullname": "",
      "description": "Returns the canonical name of the Neuromorphic Overlay.",
      "returnType": "string",
      "returnHelp": "The string ID of the Neuromorphic Overlay (e.g., 'neuromorphic')."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_plan",
      "groupname": "FDM.Overlays",
      "fullname": "",
      "description": "Returns the canonical name of the plan overlay.",
      "returnType": "string",
      "returnHelp": "The string ID of the plan overlay (e.g., 'plan')."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_sio",
      "groupname": "FDM.Overlays",
      "fullname": "",
      "description": "Returns the canonical name of the Symbol Index Overlay (SIO).",
      "returnType": "string",
      "returnHelp": "The string ID of the Symbol Index Overlay (e.g., 'sio')."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_summary",
      "groupname": "FDM.Overlays",
      "fullname": "",
      "description": "Returns the canonical name of the summary overlay.",
      "returnType": "string",
      "returnHelp": "The string ID of the summary overlay (e.g., 'summary')."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "get_welcome",
      "groupname": "FDM.Overlays",
      "fullname": "",
      "description": "Returns the canonical name of the welcome overlay.",
      "returnType": "string",
      "returnHelp": "The string ID of the welcome overlay (e.g., 'welcome')."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": ""
  },
  {
    "spec": {
      "name": "Register",
      "groupname": "account",
      "fullname": "tool.account.register",
      "description": "Registers a new provider account configuration.",
      "args": [
        {
          "name": "name",
          "type": "string",
          "description": "The logical name for the account (e.g., 'openai-prod').",
          "required": true
        },
        {
          "name": "config",
          "type": "map",
          "description": "A map containing account details like 'kind', 'provider', and 'apiKey'.",
          "required": true
        }
      ],
      "returnType": "bool",
      "example": "account.Register(\"openai-prod\", {\"kind\": \"llm\", \"provider\": \"openai\", \"apiKey\": \"sk-...\"})"
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "account",
        "Verbs": [
          "admin"
        ],
        "Scopes": [
          "*"
        ]
      }
    ],
    "effects": [
      "idempotent"
    ],
    "signatureChecksum": "sha256:4081244278d1bf91e5efa418564e3aa77afdce63b0132ce84594411d0a8ef7fb"
  },
  {
    "spec": {
      "name": "IsEmpty",
      "groupname": "list",
      "fullname": "tool.list.isempty",
      "description": "Returns true if the list has zero elements, false otherwise.",
      "category": "List Operations",
      "args": [
        {
          "name": "list",
          "type": "slice_any",
          "description": "The list to check.",
          "required": true
        }
      ],
      "returnType": "bool",
      "returnHelp": "Returns true if the 'list' contains zero elements, and false otherwise.",
      "example": "tool.List.IsEmpty([]) // returns true\\ntool.List.IsEmpty([1]) // returns false",
      "errorConditions": "None expected."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:7e422347a9177ef6b5012538fad2d950466e5959f24316c5008c2e91c1933371"
  },
  {
    "spec": {
      "name": "ParseFromJsonBase64",
      "groupname": "str",
      "fullname": "tool.str.parsefromjsonbase64",
      "description": "Parses JSON data from a Base64 encoded string (representing bytes) into a map or list.",
      "category": "String Codecs",
      "args": [
        {
          "name": "base64_string",
          "type": "string",
          "description": "The Base64 encoded string representing JSON byte data.",
          "required": true
        }
      ],
      "returnType": "any",
      "returnHelp": "Returns the parsed map or list.",
      "example": "str.ParseFromJsonBase64(\"eyJrZXkiOiAidmFsdWUifQ==\") // Returns {\"key\": \"value\"}",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` if input is not a string, invalid Base64, or invalid JSON."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:3992ceba0f82436b9ade670d8e419b61d1abe27d4c7a8f7347dc2b6e203dae6b"
  },
  {
    "spec": {
      "name": "GetParent",
      "groupname": "tree",
      "fullname": "tool.tree.getparent",
      "description": "Gets the parent of a given node as a map.",
      "category": "Tree Manipulation",
      "args": [
        {
          "name": "tree_handle",
          "type": "string",
          "description": "Handle to the tree structure.",
          "required": true
        },
        {
          "name": "node_id",
          "type": "string",
          "description": "ID of the node whose parent is sought.",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map of the parent node, or nil if the node is the root.",
      "example": "tool.Tree.GetParent(handle, \"child_node_id\")",
      "errorConditions": "Returns `ErrArgumentMismatch`, `ErrInvalidArgument`, `ErrTreeNotFound`, `ErrNodeNotFound`."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:746cf47afe3359fa602ba991b4da53b779f6c88c5e2c8a42a74d1adead43a2dd"
  },
  {
    "spec": {
      "name": "Add",
      "groupname": "math",
      "fullname": "tool.math.add",
      "description": "Calculates the sum of two numbers (integers or decimals). Strings convertible to numbers are accepted.",
      "category": "Math Operations",
      "args": [
        {
          "name": "num1",
          "type": "float",
          "description": "The first number (or numeric string) to add.",
          "required": true
        },
        {
          "name": "num2",
          "type": "float",
          "description": "The second number (or numeric string) to add.",
          "required": true
        }
      ],
      "returnType": "float",
      "returnHelp": "Returns the sum of num1 and num2 as a float64. Both inputs are expected to be (or be coercible to) numbers.",
      "example": "tool.Add(5, 3.5) // returns 8.5",
      "errorConditions": "Returns an 'ErrInternalTool' if arguments cannot be processed as float64 (this scenario should ideally be caught by input validation before the tool function is called)."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:938782e1b3ddacd29fe32ceccb98017890518f4cc3d2e733eba80abaeae90056"
  },
  {
    "spec": {
      "name": "Parse",
      "groupname": "metadata",
      "fullname": "tool.metadata.parse",
      "description": "Auto-detects serialization and parses content into a metadata map and a content body string.",
      "args": [
        {
          "name": "content",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "map"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:d194b056a86e78147f2076bcc432f845c14a98bf9195c1fee7a981f80a081433"
  },
  {
    "spec": {
      "name": "Split",
      "groupname": "str",
      "fullname": "tool.str.split",
      "description": "Splits a string by a delimiter.",
      "category": "String Operations",
      "args": [
        {
          "name": "input_string",
          "type": "string",
          "description": "The string to split.",
          "required": true
        },
        {
          "name": "delimiter",
          "type": "string",
          "description": "The delimiter string.",
          "required": true
        }
      ],
      "returnType": "slice_string",
      "returnHelp": "Returns a slice of strings after splitting the input string by the delimiter.",
      "example": "tool.Split(\"apple,banana,orange\", \",\") // Returns [\"apple\", \"banana\", \"orange\"]",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` (with `ErrorCodeType`) if `input_string` or `delimiter` are not strings."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:f9257b835f5a47f47c5f11f1156feef3735e1a32a4b38ebef7baea8615b772ab"
  },
  {
    "spec": {
      "name": "Merge",
      "groupname": "git",
      "fullname": "tool.git.merge",
      "description": "Joins two or more development histories together.",
      "category": "Git",
      "args": [
        {
          "name": "relative_path",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "branch",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "read",
          "write"
        ],
        "Scopes": null
      },
      {
        "Resource": "shell",
        "Verbs": [
          "execute"
        ],
        "Scopes": [
          "git"
        ]
      }
    ],
    "effects": [
      "writesFS",
      "usesExternal:git"
    ],
    "signatureChecksum": "sha256:47ba914a9c2a210b55b7987b016723e4ffb55617d4ec93fd578a667a94c39166"
  },
  {
    "spec": {
      "name": "SplitWords",
      "groupname": "str",
      "fullname": "tool.str.splitwords",
      "description": "Splits a string into words based on whitespace.",
      "category": "String Operations",
      "args": [
        {
          "name": "input_string",
          "type": "string",
          "description": "The string to split into words.",
          "required": true
        }
      ],
      "returnType": "slice_string",
      "returnHelp": "Returns a slice of strings, where each string is a word from the input string, with whitespace removed. Multiple spaces are treated as a single delimiter.",
      "example": "tool.SplitWords(\"hello world  example\") // Returns [\"hello\", \"world\", \"example\"]",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` (with `ErrorCodeType`) if `input_string` is not a string."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:1624511d301025733f498f979d7744896beb3e58b445fe0e4a386a275e9a2c64"
  },
  {
    "spec": {
      "name": "FromBase64",
      "groupname": "str",
      "fullname": "tool.str.frombase64",
      "description": "Decodes a Base64-encoded string.",
      "category": "String Codecs",
      "args": [
        {
          "name": "encoded_string",
          "type": "string",
          "description": "The Base64 string to decode.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the decoded string.",
      "example": "tool.FromBase64(\"aGVsbG8gd29ybGQ=\") // Returns \"hello world\"",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` if `encoded_string` is not a string or is invalid Base64."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:b51e54dccb92fa3bdf1ef68b0f12aed0376adfa4c75608980f39795505cdcd67"
  },
  {
    "spec": {
      "name": "RemoveNodeMetadata",
      "groupname": "tree",
      "fullname": "tool.tree.removenodemetadata",
      "description": "Removes a metadata attribute from a node.",
      "category": "Tree Manipulation",
      "args": [
        {
          "name": "tree_handle",
          "type": "string",
          "description": "Handle to the tree structure.",
          "required": true
        },
        {
          "name": "node_id",
          "type": "string",
          "description": "ID of the node to remove metadata from.",
          "required": true
        },
        {
          "name": "metadata_key",
          "type": "string",
          "description": "The key of the metadata attribute to remove.",
          "required": true
        }
      ],
      "returnType": "nil",
      "returnHelp": "Returns nil on success.",
      "example": "tool.Tree.RemoveNodeMetadata(handle, \"my_node_id\", \"version\")",
      "errorConditions": "Returns `ErrArgumentMismatch`, `ErrInvalidArgument`, `ErrTreeNotFound`, `ErrNodeNotFound`, `ErrAttributeNotFound`."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:0cb794ce745cd722d95c2b14158f758bdda53928a62d28e4dd9260cc2466b648"
  },
  {
    "spec": {
      "name": "Exists",
      "groupname": "agentmodel",
      "fullname": "tool.agentmodel.exists",
      "description": "Checks if an agent model with the given name is registered.",
      "args": [
        {
          "name": "name",
          "type": "string",
          "description": "The logical name of the model to check.",
          "required": true
        }
      ],
      "returnType": "bool"
    },
    "requiresTrust": false,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "model",
        "Verbs": [
          "read"
        ],
        "Scopes": [
          "*"
        ]
      }
    ],
    "signatureChecksum": "sha256:64d378501e46f3fdba87af0f475019ee7e73880267de5a9b97b0b287593f63d6"
  },
  {
    "spec": {
      "name": "Sort",
      "groupname": "list",
      "fullname": "tool.list.sort",
      "description": "Returns a *new* list with elements sorted. Restricted to lists containing only numbers (int/float) or only strings. Throws error for mixed types or non-sortable types (nil, bool, list, map).",
      "category": "List Operations",
      "args": [
        {
          "name": "list",
          "type": "slice_any",
          "description": "The list to sort.",
          "required": true
        }
      ],
      "returnType": "slice_any",
      "returnHelp": "Returns a new list with elements sorted. The list must contain either all numbers (integers or floats, which will be sorted numerically) or all strings (sorted lexicographically). The original list is not modified. Returns an empty list if the input list is empty.",
      "example": "tool.List.Sort([3, 1, 2]) // returns [1, 2, 3]\\ntool.List.Sort([\"c\", \"a\", \"b\"]) // returns [\"a\", \"b\", \"c\"]",
      "errorConditions": "Returns an error (ErrListCannotSortMixedTypes) if the list contains mixed types (e.g., numbers and strings), nil elements, or other non-sortable types like booleans, maps, or other lists."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:e5750e4ad9c31f2a119f4c995bfa223e2f22e8b7009e5155a5e4703bba6bd70a"
  },
  {
    "spec": {
      "name": "MatchRegex",
      "groupname": "str",
      "fullname": "tool.str.matchregex",
      "description": "Checks if a string matches a regular expression. Requires 'str:use:regex' capability.",
      "category": "String Regex",
      "args": [
        {
          "name": "pattern",
          "type": "string",
          "description": "The regex pattern to match.",
          "required": true
        },
        {
          "name": "input_string",
          "type": "string",
          "description": "The string to check.",
          "required": true
        }
      ],
      "returnType": "bool",
      "returnHelp": "Returns true if the input_string matches the pattern, false otherwise.",
      "example": "str.MatchRegex(pattern: \"\\\\d{3}-\\\\d{2}-\\\\d{4}\", input_string: \"123-45-6789\")",
      "errorConditions": "ErrInvalidArgument if the regex pattern is invalid."
    },
    "requiresTrust": false,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "str",
        "Verbs": [
          "use"
        ],
        "Scopes": [
          "regex"
        ]
      }
    ],
    "signatureChecksum": "sha256:a44b3e75d054c2db145c743bb0b8991cc6da47d3c21dbe5f5ad0efa67148eb21"
  },
  {
    "spec": {
      "name": "Divide",
      "groupname": "math",
      "fullname": "tool.math.divide",
      "description": "Calculates the division of two numbers (num1 / num2). Returns float. Handles division by zero.",
      "category": "Math Operations",
      "args": [
        {
          "name": "num1",
          "type": "float",
          "description": "The dividend.",
          "required": true
        },
        {
          "name": "num2",
          "type": "float",
          "description": "The divisor.",
          "required": true
        }
      ],
      "returnType": "float",
      "returnHelp": "Returns the result of num1 / num2 as a float64. Both inputs are expected to be (or be coercible to) numbers.",
      "example": "tool.Divide(10, 4) // returns 2.5",
      "errorConditions": "Returns 'ErrDivisionByZero' if num2 is 0. Returns an 'ErrInternalTool' if arguments cannot be processed as float64 (should be caught by validation)."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:fa48c0f66d97271698524381809df429eb9f86ee49d2958cfbad26948031c87f"
  },
  {
    "spec": {
      "name": "Delete",
      "groupname": "account",
      "fullname": "tool.account.delete",
      "description": "Deletes a provider account configuration.",
      "args": [
        {
          "name": "name",
          "type": "string",
          "description": "The logical name of the account to delete.",
          "required": true
        }
      ],
      "returnType": "bool",
      "example": "account.Delete(\"openai-prod\")"
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "account",
        "Verbs": [
          "admin"
        ],
        "Scopes": [
          "*"
        ]
      }
    ],
    "effects": [
      "idempotent"
    ],
    "signatureChecksum": "sha256:94c1d0aa92022dada83acd032220a6ddbe787eded56cd3a30c51914a768026d2"
  },
  {
    "spec": {
      "name": "Update",
      "groupname": "agentmodel",
      "fullname": "tool.agentmodel.update",
      "description": "Updates an existing agent model configuration.",
      "args": [
        {
          "name": "name",
          "type": "string",
          "description": "The logical name of the agent model to update.",
          "required": true
        },
        {
          "name": "updates",
          "type": "map",
          "description": "A map containing the fields to update.",
          "required": true
        }
      ],
      "returnType": "bool"
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "model",
        "Verbs": [
          "admin"
        ],
        "Scopes": [
          "*"
        ]
      }
    ],
    "signatureChecksum": "sha256:038d3b674a49dd7ba407e62489c3e60d9788056f1c6e7564e655dfa6a7a6f447"
  },
  {
    "spec": {
      "name": "Append",
      "groupname": "list",
      "fullname": "tool.list.append",
      "description": "Returns a *new* list with the given element added to the end.",
      "category": "List Operations",
      "args": [
        {
          "name": "list",
          "type": "slice_any",
          "description": "The list to append to.",
          "required": true
        },
        {
          "name": "element",
          "type": "any",
          "description": "The element to append (can be nil).",
          "required": false
        }
      ],
      "returnType": "slice_any",
      "returnHelp": "Returns a new list with the 'element' added to the end of the input 'list'. The original list is not modified.",
      "example": "tool.List.Append([1, 2], 3) // returns [1, 2, 3]",
      "errorConditions": "None expected, as input validation ensures 'list' is a slice. Appending 'nil' is allowed."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:e2b9c66ce38ef3898847f1ee79876c81591fc77658c2b2b0bf24fc43744971cf"
  },
  {
    "spec": {
      "name": "Input",
      "groupname": "io",
      "fullname": "tool.io.input",
      "description": "Displays a message and waits for user input from standard input. Returns the input as a string.",
      "category": "Input/Output",
      "args": [
        {
          "name": "message",
          "type": "string",
          "description": "The message to display to the user before waiting for input. If null or empty, no prompt message is printed.",
          "required": false
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the string entered by the user, with trailing newline characters trimmed. Returns an empty string and an error if reading input fails.",
      "example": "userName = TOOL.Input(message: \"Enter your name: \")",
      "errorConditions": "ErrorCodeType if the prompt message argument is provided but not a string; ErrorCodeIOFailed if reading from standard input fails (e.g., EOF)."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:ce032312981861b8288e9273f6f5bc04e4094bd8193a5359962e3d26d9e9f690"
  },
  {
    "spec": {
      "name": "Clone",
      "groupname": "git",
      "fullname": "tool.git.clone",
      "description": "Clones a Git repository.",
      "category": "Git",
      "args": [
        {
          "name": "repository_url",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "relative_path",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "write"
        ],
        "Scopes": null
      },
      {
        "Resource": "net",
        "Verbs": [
          "read"
        ],
        "Scopes": null
      },
      {
        "Resource": "shell",
        "Verbs": [
          "execute"
        ],
        "Scopes": [
          "git"
        ]
      }
    ],
    "effects": [
      "writesFS",
      "readsNet",
      "usesExternal:git"
    ],
    "signatureChecksum": "sha256:6c18e02d1c1b695d7b0f5ebf53b22e236405d1e35b99b6248361912dd7bce94b"
  },
  {
    "spec": {
      "name": "Fmt",
      "groupname": "gotools",
      "fullname": "tool.gotools.fmt",
      "description": "Formats Go source code using 'go/format.Source'. Returns the formatted code or an error map.",
      "category": "Go Formatting",
      "args": [
        {
          "name": "content",
          "type": "string",
          "description": "The Go source code content to format.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the formatted Go source code as a string. If formatting fails (e.g., syntax error), returns a map {'formatted_content': \u003coriginal_content\u003e, 'error': \u003cerror_string\u003e, 'success': false} and a Go-level error.",
      "example": "tool.gotools.Fmt(content: \"package main\\nfunc main(){}\")",
      "errorConditions": "ErrInternalTool if formatting fails internally, wrapping the original Go error from format.Source. The specific formatting error (e.g. syntax error) is in the 'error' field of the returned map if applicable."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:4becc995c3c6929181b9e5ad6b20bd109ee85651e34bf1d3521fb11970e9d235"
  },
  {
    "spec": {
      "name": "SetValue",
      "groupname": "tree",
      "fullname": "tool.tree.setvalue",
      "description": "Sets the value of an existing leaf or simple-type node.",
      "category": "Tree Manipulation",
      "args": [
        {
          "name": "tree_handle",
          "type": "string",
          "description": "Handle to the tree structure.",
          "required": true
        },
        {
          "name": "node_id",
          "type": "string",
          "description": "ID of the leaf or simple-type node to modify.",
          "required": true
        },
        {
          "name": "value",
          "type": "any",
          "description": "The new value for the node.",
          "required": true
        }
      ],
      "returnType": "nil",
      "returnHelp": "Returns nil on success.",
      "example": "tool.Tree.SetValue(handle, \"id_of_keyNode\", \"new_value\")",
      "errorConditions": "Returns `ErrArgumentMismatch`, `ErrInvalidArgument`, `ErrTreeNotFound`, `ErrNodeNotFound`, `ErrCannotSetValueOnType`."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:75b4fca0f59ad9db39c0008acd030d68544a7ae79126b902727110bacb2c7907"
  },
  {
    "spec": {
      "name": "Delete",
      "groupname": "fs",
      "fullname": "tool.fs.delete",
      "description": "Deletes a file or an empty directory. Returns 'OK' on success or if path doesn't exist.",
      "category": "Filesystem",
      "args": [
        {
          "name": "path",
          "type": "string",
          "description": "Relative path to the file or empty directory to delete.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns 'OK' on success. Returns nil on error.",
      "example": "TOOL.FS.Delete(path: \"temp/old_file.txt\")",
      "errorConditions": "ErrArgumentMismatch; ErrConfiguration; ErrSecurityPath; ErrPreconditionFailed if directory is not empty; ErrPermissionDenied; ErrIOFailed."
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "delete"
        ],
        "Scopes": null
      }
    ],
    "effects": [
      "writesFS",
      "idempotent"
    ],
    "signatureChecksum": "sha256:da805b152f671b0a7e99bd1834dbd2f2f09f0d4e2efed62f76dcb756174e3bd5"
  },
  {
    "spec": {
      "name": "listTools",
      "groupname": "meta",
      "fullname": "tool.meta.listtools",
      "description": "Lists the full specifications of all registered tools, optionally filtered by name.",
      "category": "Introspection",
      "args": [
        {
          "name": "filter",
          "type": "string",
          "description": "A string to filter tool names. Only tools whose full name contains this text will be included.",
          "required": false
        }
      ],
      "returnType": "slice",
      "returnHelp": "A list of tool specification objects.",
      "example": "listTools(\"file\")"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:7657b33852d712ec0b3bce061eebc8e05184b5725b0be87b6e8dd670a1a2cf27"
  },
  {
    "spec": {
      "name": "Length",
      "groupname": "list",
      "fullname": "tool.list.length",
      "description": "Returns the number of elements in a list.",
      "category": "List Operations",
      "args": [
        {
          "name": "list",
          "type": "slice_any",
          "description": "The list to measure.",
          "required": true
        }
      ],
      "returnType": "int",
      "returnHelp": "Returns an integer representing the number of elements in the provided list.",
      "example": "tool.List.Length([1, 2, 3]) // returns 3",
      "errorConditions": "None expected, as input validation ensures 'list' is a slice. An empty list returns 0."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:b148c9d88bf4d9d5a2468cb490c70c1bf0614bc2dfcb93e2e87f392f002d5ded"
  },
  {
    "spec": {
      "name": "Select",
      "groupname": "shape",
      "fullname": "tool.shape.select",
      "description": "Selects a single value from a map or list using a Path-Lite expression.",
      "category": "Data Selection",
      "args": [
        {
          "name": "value",
          "type": "any",
          "description": "The map or list to select from.",
          "required": true
        },
        {
          "name": "path",
          "type": "any",
          "description": "The Path-Lite string or array-form list path.",
          "required": true
        },
        {
          "name": "options",
          "type": "map",
          "description": "Options map, e.g., {\"case_insensitive\": true, \"missing_ok\": true}.",
          "required": false
        }
      ],
      "returnType": "any",
      "returnHelp": "Returns the value found at the specified path.",
      "example": "tool.shape.Select(my_data, \"user.name\", {\"case_insensitive\": true})",
      "errorConditions": "Returns selection errors (e.g., ErrMapKeyNotFound) on failure, unless 'missing_ok' is true."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:102ace455753cd11cd8e43a36a8f8f57c6750b1b0067464298854339789f4a93"
  },
  {
    "spec": {
      "name": "Read",
      "groupname": "capsule",
      "fullname": "tool.capsule.read",
      "description": "Reads a capsule by its full ID ('name@version') or the latest version by name.",
      "args": [
        {
          "name": "id",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "map"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:3bac18dbf2a74305342f9acaf57b7779f70fa0f34c2aafd677a54f1a350f3f8a"
  },
  {
    "spec": {
      "name": "Check",
      "groupname": "gotools",
      "fullname": "tool.gotools.check",
      "description": "Checks Go code validity using 'go list -e -json \u003ctarget\u003e' within the sandbox. Returns a map indicating success and error details.",
      "category": "Go types.Diagnostics",
      "args": [
        {
          "name": "target",
          "type": "string",
          "description": "Target Go package path or file path relative to sandbox (e.g., './pkg/core', 'main.go').",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map with 'check_success' (bool) and 'error_details' (string). 'check_success' is true if 'go list -e -json' finds no errors in the target's JSON output. 'error_details' contains messages if errors are found or if the command fails.",
      "example": "tool.gotools.Check(target: \"./pkg/core\")",
      "errorConditions": "ErrConfiguration if sandbox is not set; ErrInternalSecurity for path validation issues. Command execution issues or JSON parsing errors result in 'check_success':false and details in 'error_details'."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:44cde51939108ec0afe309ea917cd1e864a4d76f8c06e002dcbd4a1b766514ab"
  },
  {
    "spec": {
      "name": "GetModuleInfo",
      "groupname": "gotools",
      "fullname": "tool.gotools.getmoduleinfo",
      "description": "Finds and parses the go.mod file relevant to a directory by searching upwards. Returns a map with module path, go version, root directory, requires, and replaces, or nil if not found.",
      "category": "Go Build Tools",
      "args": [
        {
          "name": "directory",
          "type": "string",
          "description": "Directory (relative to sandbox) to start searching upwards for go.mod. Defaults to '.' (sandbox root).",
          "required": false
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map containing 'modulePath', 'goVersion', 'rootDir' (absolute path to module root), 'requires' (list of maps), and 'replaces' (list of maps). Returns nil if no go.mod is found.",
      "example": "tool.gotools.GetModuleInfo(directory: \"cmd/mytool\")",
      "errorConditions": "ErrValidationTypeMismatch if directory arg is not a string; ErrInternalSecurity if sandbox is not set or for path validation errors; ErrInternalTool if FindAndParseGoMod fails for reasons other than os.ErrNotExist (e.g., parsing error, file read error). If go.mod is not found, returns nil result and nil error (not a Go-level tool error)."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:7f28cd28a41cfd481f27f2bc83eff9aff736a9e755b3424d2bee5fc5d3e2e907"
  },
  {
    "spec": {
      "name": "Walk",
      "groupname": "fs",
      "fullname": "tool.fs.walk",
      "description": "Recursively walks a directory, returning a list of maps describing files/subdirectories found.",
      "category": "Filesystem",
      "args": [
        {
          "name": "path",
          "type": "string",
          "description": "Relative path to the directory to walk.",
          "required": true
        }
      ],
      "returnType": "slice_any",
      "returnHelp": "Returns a slice of maps, each describing a file/subdir. Skips the root dir itself. Returns nil on error.",
      "example": "TOOL.FS.Walk(path: \"src\")",
      "errorConditions": "ErrArgumentMismatch; ErrConfiguration; ErrSecurityPath; ErrFileNotFound; ErrPathNotDirectory; ErrPermissionDenied; ErrIOFailed; ErrInternal."
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "read"
        ],
        "Scopes": null
      }
    ],
    "effects": [
      "readsFS",
      "idempotent"
    ],
    "signatureChecksum": "sha256:8ab05b6d86a53f1b1462485959636a28af26729893c99ecf41ddffe2296e8f51"
  },
  {
    "spec": {
      "name": "Print",
      "groupname": "io",
      "fullname": "tool.io.print",
      "description": "Prints values to the standard output. If multiple values are passed in a list, they are printed space-separated.",
      "category": "Input/Output",
      "args": [
        {
          "name": "values",
          "type": "any",
          "description": "A single value or a list of values to print. List elements will be space-separated.",
          "required": true
        }
      ],
      "returnType": "nil",
      "returnHelp": "Returns nil. This tool is used for its side effect of printing to standard output.",
      "variadic": true,
      "example": "TOOL.Print(value: \"Hello World\")\\nTOOL.Print(values: [\"Hello\", 42, \"World!\"]) // Prints \"Hello 42 World!\"",
      "errorConditions": "ErrArgumentMismatch if the internal 'values' argument is not provided as expected by the implementation."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:903263c302e83167d6b219fd16f90cd85e7f419edef4419e3213a77943fbedfe"
  },
  {
    "spec": {
      "name": "GetEventShape",
      "groupname": "ns_event",
      "fullname": "tool.ns_event.geteventshape",
      "description": "Returns the canonical Shape-Lite definition for a standard ns_event object.",
      "returnType": "map",
      "example": "set shape = ns_event.GetEventShape()"
    },
    "requiresTrust": false,
    "isInternal": false,
    "effects": [
      "readonly"
    ],
    "signatureChecksum": "sha256:54cad6d4f1edf0458d5a1d0686f043b5c47c7f30dd66b961b0436391c6321edf"
  },
  {
    "spec": {
      "name": "Execute",
      "groupname": "shell",
      "fullname": "tool.shell.execute",
      "description": "Executes an arbitrary shell command. WARNING: Use with extreme caution due to security risks. Command path validation is basic. Consider using specific tools (e.g., GoBuild, GitAdd) instead.",
      "category": "Shell Operations",
      "args": [
        {
          "name": "command",
          "type": "string",
          "description": "The command or executable path (must not contain path separators like '/' or '\\').",
          "required": true
        },
        {
          "name": "args_list",
          "type": "slice_string",
          "description": "A list of string arguments for the command.",
          "required": false
        },
        {
          "name": "directory",
          "type": "string",
          "description": "Optional directory (relative to sandbox) to execute the command in. Defaults to sandbox root.",
          "required": false
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map containing 'stdout' (string), 'stderr' (string), 'exit_code' (int), and 'success' (bool) of the executed command. 'success' is true if the command exits with code 0, false otherwise. The command is executed within the sandboxed environment.",
      "example": "tool.shell.Execute(\"ls\", [\"-la\"], \"my_directory\")",
      "errorConditions": "Returns `ErrArgumentMismatch` if an incorrect number of arguments is provided. Returns `ErrInvalidArgument` or `ErrorCodeType` if 'command' is not a string, 'args_list' is not a list of strings, or 'directory' is not a string. Returns `ErrSecurityViolation` if the 'command' path is deemed suspicious (e.g., contains path separators or shell metacharacters). Returns `ErrInternal` if the internal FileAPI is not available. May return path-related errors (e.g., `ErrFileNotFound`, `ErrPathNotDirectory`, `ErrPermissionDenied`) if the specified 'directory' is invalid or inaccessible. If the command itself executes but fails (non-zero exit code), 'success' in the result map will be false, and 'stderr' may contain error details. OS-level execution errors are also captured in 'stderr'."
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "shell",
        "Verbs": [
          "execute"
        ],
        "Scopes": [
          "*"
        ]
      }
    ],
    "effects": [
      "readsFS",
      "readsNet",
      "readsClock",
      "readsRand"
    ],
    "signatureChecksum": "sha256:3112daa1c473f63115ec07d83078fc6c5c2564892ede2ade46caf2314ddb8b3f"
  },
  {
    "spec": {
      "name": "Test",
      "groupname": "gotools",
      "fullname": "tool.gotools.test",
      "description": "Runs 'go test' for a specified target in the sandbox. Defaults to './...'.",
      "category": "Go Build Tools",
      "args": [
        {
          "name": "target",
          "type": "string",
          "description": "Optional. The test target (e.g., a package path or './...'). Defaults to './...'.",
          "required": false
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map with 'stdout', 'stderr', 'exit_code' (int64), and 'success' (bool) from the 'go test \u003ctarget\u003e' command.",
      "example": "tool.gotools.Test(target: \"./pkg/feature\")",
      "errorConditions": "ErrInvalidArgument if optional target is not a string; ErrConfiguration if sandbox is not set; ErrInternalSecurity for path validation issues. Command execution failures are reported within the returned map."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:523dd1bd096b5753c4b454a7b3d7854771e77e1705281a6e9b03b916987dbe1c"
  },
  {
    "spec": {
      "name": "Multiply",
      "groupname": "math",
      "fullname": "tool.math.multiply",
      "description": "Calculates the product of two numbers. Strings convertible to numbers are accepted.",
      "category": "Math Operations",
      "args": [
        {
          "name": "num1",
          "type": "float",
          "description": "The first number.",
          "required": true
        },
        {
          "name": "num2",
          "type": "float",
          "description": "The second number.",
          "required": true
        }
      ],
      "returnType": "float",
      "returnHelp": "Returns the product of num1 and num2 as a float64. Both inputs are expected to be (or be coercible to) numbers.",
      "example": "tool.Multiply(6, 7.0) // returns 42.0",
      "errorConditions": "Returns an 'ErrInternalTool' if arguments cannot be processed as float64 (should be caught by validation)."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:363aa2a294eb440741ed73acbb4cf4f9898d55c53cfc211a6ec8393e8ebc4da8"
  },
  {
    "spec": {
      "name": "Prepend",
      "groupname": "list",
      "fullname": "tool.list.prepend",
      "description": "Returns a *new* list with the given element added to the beginning.",
      "category": "List Operations",
      "args": [
        {
          "name": "list",
          "type": "slice_any",
          "description": "The list to prepend to.",
          "required": true
        },
        {
          "name": "element",
          "type": "any",
          "description": "The element to prepend (can be nil).",
          "required": false
        }
      ],
      "returnType": "slice_any",
      "returnHelp": "Returns a new list with the 'element' added to the beginning of the input 'list'. The original list is not modified.",
      "example": "tool.List.Prepend([2, 3], 1) // returns [1, 2, 3]",
      "errorConditions": "None expected, as input validation ensures 'list' is a slice. Prepending 'nil' is allowed."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:cdaf7fbb58ce0261c4b7b6641b93782fc51007aaa34d21b6884965390667e976"
  },
  {
    "spec": {
      "name": "Tail",
      "groupname": "list",
      "fullname": "tool.list.tail",
      "description": "Returns a *new* list containing the last 'count' elements. Returns an empty list if count \u003c= 0. Returns a copy of the whole list if count \u003e= list length.",
      "category": "List Operations",
      "args": [
        {
          "name": "list",
          "type": "slice_any",
          "description": "The list to get the tail from.",
          "required": true
        },
        {
          "name": "count",
          "type": "int",
          "description": "The number of elements to take from the end.",
          "required": true
        }
      ],
      "returnType": "slice_any",
      "returnHelp": "Returns a new list containing the last 'count' elements from the input 'list'. If 'count' is less than or equal to 0, an empty list is returned. If 'count' is greater than or equal to the list length, a copy of the original list is returned. The original list is not modified.",
      "example": "tool.List.Tail([1, 2, 3, 4, 5], 3) // returns [3, 4, 5]\\ntool.List.Tail([1, 2], 5) // returns [1, 2]",
      "errorConditions": "None expected. Handles various 'count' values appropriately, returning an empty list or a copy of the whole list as applicable."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:909d61ff670c4e2e3f855c57c73f2f5fc3115d44bfa20eb7e3ea01183d47f73c"
  },
  {
    "spec": {
      "name": "Validate",
      "groupname": "shape",
      "fullname": "tool.shape.validate",
      "description": "Validates a map against a Shape-Lite definition.",
      "category": "Data Validation",
      "args": [
        {
          "name": "value",
          "type": "map",
          "description": "The data map to validate.",
          "required": true
        },
        {
          "name": "shape",
          "type": "map",
          "description": "The Shape-Lite map to validate against.",
          "required": true
        },
        {
          "name": "options",
          "type": "map",
          "description": "Options map, e.g., {\"allow_extra\": true, \"case_insensitive\": true}.",
          "required": false
        }
      ],
      "returnType": "bool",
      "returnHelp": "Returns true on success, otherwise returns a validation error.",
      "example": "tool.shape.Validate(my_data, my_shape, {\"allow_extra\": true})",
      "errorConditions": "Returns validation errors (e.g., ErrValidationTypeMismatch) on failure."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:eb27db0e67e938fbf60fe2e83a36a15fa3e03eb423e9a61660ebcce0f0dbefec"
  },
  {
    "spec": {
      "name": "ToLower",
      "groupname": "str",
      "fullname": "tool.str.tolower",
      "description": "Converts a string to lowercase.",
      "category": "String Operations",
      "args": [
        {
          "name": "input_string",
          "type": "string",
          "description": "The string to convert.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the lowercase version of the input string.",
      "example": "tool.ToLower(\"HELLO\") // Returns \"hello\"",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` (with `ErrorCodeType`) if `input_string` is not a string."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:c5d5627814a8c56a4134d9e45c228e8584cfc25521a3d5c05bc95ab3e5c217e9"
  },
  {
    "spec": {
      "name": "Join",
      "groupname": "str",
      "fullname": "tool.str.join",
      "description": "Joins elements of a list of strings with a separator.",
      "category": "String Operations",
      "args": [
        {
          "name": "string_list",
          "type": "any",
          "description": "List of strings to join.",
          "required": true
        },
        {
          "name": "separator",
          "type": "string",
          "description": "String to place between elements.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns a single string created by joining the elements of string_list with the separator.",
      "example": "tool.Join([\"apple\", \"banana\"], \", \") // Returns \"apple, banana\"",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` (with `ErrorCodeType`) if `string_list` is not a list or `separator` is not a string."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:beea402ab7532a62193b98c446bd79e9598171e096c900f8f6cf248c5ef85fb8"
  },
  {
    "spec": {
      "name": "HasPrefix",
      "groupname": "str",
      "fullname": "tool.str.hasprefix",
      "description": "Checks if a string starts with a prefix.",
      "category": "String Operations",
      "args": [
        {
          "name": "input_string",
          "type": "string",
          "description": "The string to check.",
          "required": true
        },
        {
          "name": "prefix",
          "type": "string",
          "description": "The prefix to check for.",
          "required": true
        }
      ],
      "returnType": "bool",
      "returnHelp": "Returns true if the input_string starts with the prefix, false otherwise.",
      "example": "tool.HasPrefix(\"filename.txt\", \"filename\") // Returns true",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` (with `ErrorCodeType`) if `input_string` or `prefix` are not strings."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:69ab339e67a412096ad5259cb5d05b67d9019e2a8f9c0b55c4e88ea257f30473"
  },
  {
    "spec": {
      "name": "Add",
      "groupname": "capsule",
      "fullname": "tool.capsule.add",
      "description": "Adds a new capsule to the runtime registry by parsing its content. Requires a privileged interpreter.",
      "args": [
        {
          "name": "capsuleContent",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "map"
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "capsule",
        "Verbs": [
          "write"
        ],
        "Scopes": [
          "*"
        ]
      }
    ],
    "signatureChecksum": "sha256:7ead5d253eb6efcbef15ef8bdf53df1ab8b3dec38b5f1cfb1b0ab81a104a3b11"
  },
  {
    "spec": {
      "name": "LoadJSON",
      "groupname": "tree",
      "fullname": "tool.tree.loadjson",
      "description": "Loads a JSON string into a new tree structure and returns a tree handle.",
      "category": "Tree Manipulation",
      "args": [
        {
          "name": "json_string",
          "type": "string",
          "description": "The JSON data as a string.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns a string handle representing the loaded tree.",
      "example": "tool.Tree.LoadJSON(\"{\\\"name\\\": \\\"example\\\"}\")",
      "errorConditions": "Returns `ErrArgumentMismatch`, `ErrInvalidArgument`, `ErrTreeJSONUnmarshal`, `ErrInternal`."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:20a9aee7efd17fce039e657908f5b0f9941bf04fca000d7534fb6a876c056150"
  },
  {
    "spec": {
      "name": "List",
      "groupname": "agentmodel",
      "fullname": "tool.agentmodel.list",
      "description": "Lists the names of all configured agent models.",
      "returnType": "slice_string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "model",
        "Verbs": [
          "read"
        ],
        "Scopes": [
          "*"
        ]
      }
    ],
    "signatureChecksum": "sha256:f284a5780d47683932083793b25e28e3ca25631cae53d382cd56ed441e13e1f0"
  },
  {
    "spec": {
      "name": "Select",
      "groupname": "agentmodel",
      "fullname": "tool.agentmodel.select",
      "description": "Selects a model by name, or the default if no name is provided.",
      "args": [
        {
          "name": "name",
          "type": "string",
          "description": "The logical name of the model to select. If empty, selects the default.",
          "required": false
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "model",
        "Verbs": [
          "read"
        ],
        "Scopes": [
          "*"
        ]
      }
    ],
    "signatureChecksum": "sha256:50bff8ae503c6de416eaed0146036e14007476716fdd2b6c1f536d4c67ae3365"
  },
  {
    "spec": {
      "name": "Status",
      "groupname": "git",
      "fullname": "tool.git.status",
      "description": "Gets the status of the Git repository.",
      "category": "Git",
      "args": [
        {
          "name": "repo_path",
          "type": "string",
          "description": "Optional. Relative path to the repository. Defaults to the sandbox root.",
          "required": false
        }
      ],
      "returnType": "map"
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "read"
        ],
        "Scopes": null
      },
      {
        "Resource": "shell",
        "Verbs": [
          "execute"
        ],
        "Scopes": [
          "git"
        ]
      }
    ],
    "effects": [
      "readsFS",
      "usesExternal:git"
    ],
    "signatureChecksum": "sha256:4afe84ec0dd38aa9e5a2df9611ac7dff5aa4b1870befee3e616704adb5155d4f"
  },
  {
    "spec": {
      "name": "Head",
      "groupname": "list",
      "fullname": "tool.list.head",
      "description": "Returns the first element of the list, or nil if the list is empty.",
      "category": "List Operations",
      "args": [
        {
          "name": "list",
          "type": "slice_any",
          "description": "The list to get the head from.",
          "required": true
        }
      ],
      "returnType": "any",
      "returnHelp": "Returns the first element of the 'list'. If the list is empty, it returns nil.",
      "example": "tool.List.Head([1, 2, 3]) // returns 1\\ntool.List.Head([]) // returns nil",
      "errorConditions": "None expected. Returns nil for an empty list."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:d881e4c3da5483afe58a31b6b61aeac8658d6d8bb00fdc48a0d1328cbddce2a3"
  },
  {
    "spec": {
      "name": "Vet",
      "groupname": "gotools",
      "fullname": "tool.gotools.vet",
      "description": "Runs 'go vet' on the specified target(s) in the sandbox to report likely mistakes in Go source code. Defaults to './...'.",
      "category": "Go types.Diagnostics",
      "args": [
        {
          "name": "target",
          "type": "string",
          "description": "Optional. The target for 'go vet' (e.g., a package path or './...'). Defaults to './...'.",
          "required": false
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map with 'stdout', 'stderr', 'exit_code' (int64), and 'success' (bool) from the 'go vet \u003ctarget\u003e' command. 'stderr' usually contains the vet diagnostics.",
      "example": "tool.gotools.Vet(target: \"./pkg/core\")",
      "errorConditions": "ErrInvalidArgument if optional target is not a string; ErrConfiguration if sandbox is not set; ErrInternalSecurity for path validation issues. Command execution failures are reported within the returned map."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:2a405670d602b32f764c20f40858115bb8c2542a06f55c4dbad201507233098a"
  },
  {
    "spec": {
      "name": "Subtract",
      "groupname": "math",
      "fullname": "tool.math.subtract",
      "description": "Calculates the difference between two numbers (num1 - num2). Strings convertible to numbers are accepted.",
      "category": "Math Operations",
      "args": [
        {
          "name": "num1",
          "type": "float",
          "description": "The number to subtract from.",
          "required": true
        },
        {
          "name": "num2",
          "type": "float",
          "description": "The number to subtract.",
          "required": true
        }
      ],
      "returnType": "float",
      "returnHelp": "Returns the difference of num1 - num2 as a float64. Both inputs are expected to be (or be coercible to) numbers.",
      "example": "tool.Subtract(10, 4.5) // returns 5.5",
      "errorConditions": "Returns an 'ErrInternalTool' if arguments cannot be processed as float64 (should be caught by validation)."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:2b2e108cf0017b050c6a5271daa1a1a4018be819dfbbd80b1c65763f92541606"
  },
  {
    "spec": {
      "name": "Replace",
      "groupname": "str",
      "fullname": "tool.str.replace",
      "description": "Replaces occurrences of a substring with another, up to a specified count.",
      "category": "String Operations",
      "args": [
        {
          "name": "input_string",
          "type": "string",
          "description": "The string to perform replacements on.",
          "required": true
        },
        {
          "name": "old_substring",
          "type": "string",
          "description": "The substring to be replaced.",
          "required": true
        },
        {
          "name": "new_substring",
          "type": "string",
          "description": "The substring to replace with.",
          "required": true
        },
        {
          "name": "count",
          "type": "int",
          "description": "Maximum number of replacements. Use -1 for all.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the string with specified replacements made.",
      "example": "tool.Replace(\"ababab\", \"ab\", \"cd\", 2) // Returns \"cdcdab\"",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` (with `ErrorCodeType`) if `input_string`, `old_substring`, or `new_substring` are not strings, or if `count` is not an integer."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:1754feb16e3a03e26908ed5def9c05b62317510d037a094c74dc651c78212e19"
  },
  {
    "spec": {
      "name": "LineCount",
      "groupname": "str",
      "fullname": "tool.str.linecount",
      "description": "Counts the number of lines in the given string content.",
      "category": "String Operations",
      "args": [
        {
          "name": "content_string",
          "type": "string",
          "description": "The string content in which to count lines.",
          "required": true
        }
      ],
      "returnType": "int",
      "returnHelp": "Returns an integer representing the number of lines in the string. Lines are typically separated by '\\n'. An empty string results in 0 lines. If the string is not empty and does not end with a newline, the last line is still counted.",
      "example": "tool.LineCount(\"line1\\nline2\\nline3\") // Returns 3\ntool.LineCount(\"line1\\nline2\") // Returns 2\ntool.LineCount(\"\") // Returns 0",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` (with `ErrorCodeType`) if `content_string` is not a string."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:3a89c34b8bf73baa02b326beb56e24c91f6a2f02e9aac61224a44db0d822f15b"
  },
  {
    "spec": {
      "name": "Build",
      "groupname": "gotools",
      "fullname": "tool.gotools.build",
      "description": "Runs 'go build' for a specified target in the sandbox. Defaults to './...'.",
      "category": "Go Build Tools",
      "args": [
        {
          "name": "target",
          "type": "string",
          "description": "Optional. The build target (e.g., a package path or './...'). Defaults to './...'.",
          "required": false
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map with 'stdout', 'stderr', 'exit_code' (int64), and 'success' (bool) from the 'go build \u003ctarget\u003e' command.",
      "example": "tool.gotools.Build(target: \"./cmd/mytool\")",
      "errorConditions": "ErrInvalidArgument if optional target is not a string; ErrConfiguration if sandbox is not set; ErrInternalSecurity for path validation issues. Command execution failures are reported within the returned map."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:22e6ac541df05214fb98ce238e2c456625b095a9f2b45e8e8e2f5b31ae54fe3a"
  },
  {
    "spec": {
      "name": "ToHex",
      "groupname": "str",
      "fullname": "tool.str.tohex",
      "description": "Encodes a string into a hexadecimal representation.",
      "category": "String Codecs",
      "args": [
        {
          "name": "input_string",
          "type": "string",
          "description": "The string to encode.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the hex-encoded string.",
      "example": "tool.ToHex(\"hello\") // Returns \"68656c6c6f\"",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` if `input_string` is not a string."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:7b7d68cd44eadac366adc7f220d649adadec5d72529292395422d1e693f2cbe5"
  },
  {
    "spec": {
      "name": "Compress",
      "groupname": "str",
      "fullname": "tool.str.compress",
      "description": "Compresses a string using Gzip and returns the result as a Base64-encoded string.",
      "category": "String Compression",
      "args": [
        {
          "name": "input_string",
          "type": "string",
          "description": "The string to compress.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the Gzip compressed and Base64 encoded string.",
      "example": "tool.Compress(\"some repeating text...\")",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` if `input_string` is not a string."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:43813f20d8160d7fe3dd35e7dae4024a76d359331997f3aba61d5c99937b7c31"
  },
  {
    "spec": {
      "name": "ParseJsonString",
      "groupname": "str",
      "fullname": "tool.str.parsejsonstring",
      "description": "Parses JSON data from a plain string into a map or list.",
      "category": "String Codecs",
      "args": [
        {
          "name": "json_string",
          "type": "string",
          "description": "The plain string representing JSON data.",
          "required": true
        }
      ],
      "returnType": "any",
      "returnHelp": "Returns the parsed map or list.",
      "example": "str.ParseJsonString(\"{\\\"key\\\": \\\"value\\\"}\") // Returns {\"key\": \"value\"}",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` if input is not a string or is invalid JSON."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:f8fa3b213d50823e80adef7e089796bad50b65b54ed94f6a4cccb3e48f9a7782"
  },
  {
    "spec": {
      "name": "Staticcheck",
      "groupname": "gotools",
      "fullname": "tool.gotools.staticcheck",
      "description": "Runs 'staticcheck' on the specified target(s) in the sandbox. Reports bugs, stylistic errors, and performance issues. Defaults to './...'. Assumes 'staticcheck' is in PATH.",
      "category": "Go types.Diagnostics",
      "args": [
        {
          "name": "target",
          "type": "string",
          "description": "Optional. The target for 'staticcheck' (e.g., a package path or './...'). Defaults to './...'.",
          "required": false
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map with 'stdout', 'stderr', 'exit_code' (int64), and 'success' (bool) from the 'staticcheck \u003ctarget\u003e' command. 'stdout' usually contains the diagnostics.",
      "example": "tool.gotools.Staticcheck(target: \"./...\")",
      "errorConditions": "ErrInvalidArgument if optional target is not a string; ErrToolExecutionFailed if 'staticcheck' command fails (e.g. not found, or internal error), reported via the toolExecuteCommand structure."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:91211816c94f2dc98640b8790571c5270d5bc356ae197c535d5b50ff4f20f1a2"
  },
  {
    "spec": {
      "name": "SetNodeMetadata",
      "groupname": "tree",
      "fullname": "tool.tree.setnodemetadata",
      "description": "Sets a metadata attribute as a key-value string pair on any node.",
      "category": "Tree Manipulation",
      "args": [
        {
          "name": "tree_handle",
          "type": "string",
          "description": "Handle to the tree structure.",
          "required": true
        },
        {
          "name": "node_id",
          "type": "string",
          "description": "ID of the node to set metadata on.",
          "required": true
        },
        {
          "name": "metadata_key",
          "type": "string",
          "description": "The key of the metadata attribute (string).",
          "required": true
        },
        {
          "name": "metadata_value",
          "type": "string",
          "description": "The value of the metadata attribute (string).",
          "required": true
        }
      ],
      "returnType": "nil",
      "returnHelp": "Returns nil on success.",
      "example": "tool.Tree.SetNodeMetadata(handle, \"my_node_id\", \"version\", \"1.0\")",
      "errorConditions": "Returns `ErrArgumentMismatch`, `ErrInvalidArgument`, `ErrTreeNotFound`, `ErrNodeNotFound`."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:55a6e69679d1546177a39674bd44eb26888dabd2a00d73d9a6e2784d96ac8d5d"
  },
  {
    "spec": {
      "name": "Mkdir",
      "groupname": "fs",
      "fullname": "tool.fs.mkdir",
      "description": "Creates a directory (like mkdir -p). Returns a success message.",
      "category": "Filesystem",
      "args": [
        {
          "name": "path",
          "type": "string",
          "description": "Relative path of the directory to create.",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map indicating success. Returns nil on error.",
      "example": "TOOL.FS.Mkdir(path: \"new/subdir\")",
      "errorConditions": "ErrArgumentMismatch; ErrConfiguration; ErrSecurityPath; ErrPathNotDirectory; ErrPathExists; ErrPermissionDenied; ErrIOFailed; ErrCannotCreateDir."
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "write"
        ],
        "Scopes": null
      }
    ],
    "effects": [
      "writesFS",
      "idempotent"
    ],
    "signatureChecksum": "sha256:1cb994aa1d42ef56f4dab7917cf2a484fcdd7a168795d9e9332f0e33ad2fe00f"
  },
  {
    "spec": {
      "name": "GetTimestamp",
      "groupname": "ns_event",
      "fullname": "tool.ns_event.gettimestamp",
      "description": "Extracts the event Timestamp (TS) from the first envelope in an ns standard event.",
      "args": [
        {
          "name": "event_object",
          "type": "map",
          "description": "The event object.",
          "required": true
        }
      ],
      "returnType": "int",
      "example": "ns_event.GetTimestamp(ev)"
    },
    "requiresTrust": false,
    "isInternal": false,
    "effects": [
      "readonly"
    ],
    "signatureChecksum": "sha256:ba83a68f076076d398beeb763a23cee7cb81689bb3131c2570bf69295364ea5f"
  },
  {
    "spec": {
      "name": "Read",
      "groupname": "fs",
      "fullname": "tool.fs.read",
      "description": "Reads the entire content of a specific file. Returns the content as a string.",
      "category": "Filesystem",
      "args": [
        {
          "name": "filepath",
          "type": "string",
          "description": "Relative path to the file.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the content of the file as a string. Returns an empty string on error.",
      "example": "TOOL.FS.Read(filepath: \"config.txt\")",
      "errorConditions": "ErrArgumentMismatch if filepath is empty; ErrConfiguration if sandbox is not set; ErrSecurityPath for invalid paths; ErrFileNotFound; ErrPermissionDenied; ErrPathNotFile if path is a directory; ErrIOFailed for other I/O errors."
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "read"
        ],
        "Scopes": null
      }
    ],
    "effects": [
      "readsFS"
    ],
    "signatureChecksum": "sha256:2a67595dd311b786077796af5e9f132bd549fe16d55e0834abd6a69db16ab9c0"
  },
  {
    "spec": {
      "name": "toolsHelp",
      "groupname": "meta",
      "fullname": "tool.meta.toolshelp",
      "description": "Provides formatted Markdown help text for tools, optionally filtered by name.",
      "category": "Introspection",
      "args": [
        {
          "name": "filter",
          "type": "string",
          "description": "A string to filter tool names. Only tools whose full name contains this text will be included.",
          "required": false
        }
      ],
      "returnType": "string",
      "returnHelp": "A string containing Markdown-formatted help for all matching tools.",
      "example": "toolsHelp(\"file\")"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:e971ea4deb1a14ff6f47a0a1a250eeced67f50cb908e42320764a46be4235db2"
  },
  {
    "spec": {
      "name": "Commit",
      "groupname": "git",
      "fullname": "tool.git.commit",
      "description": "Commits staged changes.",
      "category": "Git",
      "args": [
        {
          "name": "relative_path",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "commit_message",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "allow_empty",
          "type": "bool",
          "description": "",
          "required": false
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "read",
          "write"
        ],
        "Scopes": null
      },
      {
        "Resource": "shell",
        "Verbs": [
          "execute"
        ],
        "Scopes": [
          "git"
        ]
      }
    ],
    "effects": [
      "writesFS",
      "usesExternal:git"
    ],
    "signatureChecksum": "sha256:1c61c5d05445cfa10dd21cc3174983201df018349c223833f834628d0482df55"
  },
  {
    "spec": {
      "name": "GetAllPayloads",
      "groupname": "ns_event",
      "fullname": "tool.ns_event.getallpayloads",
      "description": "Extracts all coalesced payloads from a raw ns standard event into a list of maps.",
      "args": [
        {
          "name": "event_object",
          "type": "map",
          "description": "The event object, typically from an 'on event' handler.",
          "required": true
        }
      ],
      "returnType": "slice",
      "example": "ns_event.GetAllPayloads(ev)"
    },
    "requiresTrust": false,
    "isInternal": false,
    "effects": [
      "readonly"
    ],
    "signatureChecksum": "sha256:64bc79e0e8120a9566272e01125c64cfa0d29460fee18f59a60312295fe87772"
  },
  {
    "spec": {
      "name": "IsValidPath",
      "groupname": "shape",
      "fullname": "tool.shape.isvalidpath",
      "description": "Checks if a string is a syntactically valid Path-Lite expression.",
      "category": "Data Validation",
      "args": [
        {
          "name": "path_string",
          "type": "string",
          "description": "The Path-Lite string to check.",
          "required": true
        }
      ],
      "returnType": "bool",
      "returnHelp": "Returns true if the path has valid syntax, false otherwise.",
      "example": "tool.shape.IsValidPath(\"a.b[0].c\")",
      "errorConditions": "None. Always returns a boolean."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:de6de1553e9c24d461db0784be882ca92263f3693ca9dbf9af63cceba5196bed"
  },
  {
    "spec": {
      "name": "Inspect",
      "groupname": "str",
      "fullname": "tool.str.inspect",
      "description": "Returns a human-readable, truncated string representation of any variable. Useful for debugging complex data like maps and lists.",
      "category": "String Formatting",
      "args": [
        {
          "name": "input_variable",
          "type": "any",
          "description": "The variable to inspect.",
          "required": true
        },
        {
          "name": "max_length",
          "type": "int",
          "description": "The maximum length for strings before truncation. Default: 128.",
          "required": false
        },
        {
          "name": "max_depth",
          "type": "int",
          "description": "The maximum depth to recurse into nested structures. Default: 5.",
          "required": false
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns a formatted string representing the variable.",
      "example": "str.Inspect(my_map, max_length: 64, max_depth: 2)",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided or if they have incorrect types."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:0a6d20edd4c63eda7f6b045c8a44505af0a15342d93fd0453089f8273bec667c"
  },
  {
    "spec": {
      "name": "Sleep",
      "groupname": "os",
      "fullname": "tool.os.sleep",
      "description": "Pauses execution for a specified duration. Requires 'os:exec:sleep' capability and is subject to policy time limits.",
      "category": "Operating System",
      "args": [
        {
          "name": "duration_seconds",
          "type": "float",
          "description": "The number of seconds to sleep.",
          "required": true
        }
      ],
      "returnType": "any",
      "returnHelp": "Returns nil on completion.",
      "example": "os.Sleep(duration_seconds: 1.5)",
      "errorConditions": "ErrArgumentMismatch if duration is not a number. ErrTimeExceeded if duration is longer than the policy limit."
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "os",
        "Verbs": [
          "exec"
        ],
        "Scopes": [
          "sleep"
        ]
      }
    ],
    "signatureChecksum": "sha256:280e2123178fe6a77cad80f734e5afc76a89a1a8e7215c63bbbab35cf7fd7e02"
  },
  {
    "spec": {
      "name": "Now",
      "groupname": "os",
      "fullname": "tool.os.now",
      "description": "Gets the current system time as a Unix timestamp.",
      "category": "Operating System",
      "returnType": "float",
      "returnHelp": "Returns the number of seconds since the Unix epoch (1970-01-01T00:00:00Z UTC).",
      "example": "os.Now()"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:bf086b12ecc7b8e11d3bbb1eaba5d033f12840b062ddda8db566a7272ce38640"
  },
  {
    "spec": {
      "name": "Compose",
      "groupname": "ns_event",
      "fullname": "tool.ns_event.compose",
      "description": "Creates a valid ns standard event from its constituent parts.",
      "args": [
        {
          "name": "kind",
          "type": "string",
          "description": "The event kind (e.g., 'start.ping').",
          "required": true
        },
        {
          "name": "payload",
          "type": "map",
          "description": "The data payload of the event.",
          "required": true
        },
        {
          "name": "id",
          "type": "string",
          "description": "Optional event ID. If omitted, a new one is generated.",
          "required": false
        },
        {
          "name": "agent_id",
          "type": "string",
          "description": "Optional agent ID.",
          "required": false
        }
      ],
      "returnType": "map",
      "example": "ns_event.Compose(\"user.created\", {\"user_id\": 123})"
    },
    "requiresTrust": false,
    "isInternal": false,
    "effects": [
      "readonly"
    ],
    "signatureChecksum": "sha256:57dc18c69a420dcce11bd747bafa602a7d12d01be405d5014178833df3cee032"
  },
  {
    "spec": {
      "name": "ListFunctions",
      "groupname": "script",
      "fullname": "tool.script.listfunctions",
      "description": "Returns a map of all currently loaded function (procedure) names to their signatures.",
      "category": "Scripting",
      "returnType": "map",
      "returnHelp": "Returns a map where each key is the name of a known function and the value is its signature.",
      "example": "set loaded_functions = tool.script.ListFunctions()"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:7f91d20592d75183900c7273b217d24e02caca72487633d8e2cb0741f5c8adbc"
  },
  {
    "spec": {
      "name": "GetLatest",
      "groupname": "capsule",
      "fullname": "tool.capsule.getlatest",
      "description": "Gets the latest version of a capsule by its logical name.",
      "args": [
        {
          "name": "name",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "map"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:c62ac38302cf78d4b15c476624e94a837583af540cb573d5456a6a8950ae271b"
  },
  {
    "spec": {
      "name": "GetNodeByPath",
      "groupname": "tree",
      "fullname": "tool.tree.getnodebypath",
      "description": "Retrieves a node from a tree using a dot-separated path expression.",
      "category": "Tree Manipulation",
      "args": [
        {
          "name": "tree_handle",
          "type": "string",
          "description": "Handle to the tree structure.",
          "required": true
        },
        {
          "name": "path",
          "type": "string",
          "description": "Dot-separated path (e.g., 'key.0.name').",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map containing details of the node found at the specified path.",
      "example": "tool.Tree.GetNodeByPath(handle, \"data.users.1\")",
      "errorConditions": "Returns `ErrArgumentMismatch`, `ErrInvalidArgument`, `ErrTreeNotFound`, `ErrNodeNotFound`, `ErrKeyNotFound`, `ErrNodeWrongType`."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:918b0484226b63ec55c698f78fc742716498bc6a4df066923f37f34c8b785881"
  },
  {
    "spec": {
      "name": "GetChildren",
      "groupname": "tree",
      "fullname": "tool.tree.getchildren",
      "description": "Gets a list of node IDs of the children of a given 'array' type node.",
      "category": "Tree Manipulation",
      "args": [
        {
          "name": "tree_handle",
          "type": "string",
          "description": "Handle to the tree structure.",
          "required": true
        },
        {
          "name": "node_id",
          "type": "string",
          "description": "ID of the 'array' type parent node.",
          "required": true
        }
      ],
      "returnType": "slice_string",
      "returnHelp": "Returns a slice of child node IDs.",
      "example": "tool.Tree.GetChildren(handle, \"array_node_id\")",
      "errorConditions": "Returns `ErrArgumentMismatch`, `ErrInvalidArgument`, `ErrTreeNotFound`, `ErrNodeNotFound`, `ErrNodeWrongType`."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:3c52aa75c966f80cc7ed654e2be50fd7188cc8dc3ebc2cf55d64ab9727c0fed8"
  },
  {
    "spec": {
      "name": "GetNodeMetadata",
      "groupname": "tree",
      "fullname": "tool.tree.getnodemetadata",
      "description": "Retrieves the metadata attributes of a specific node as a map.",
      "category": "Tree Manipulation",
      "args": [
        {
          "name": "tree_handle",
          "type": "string",
          "description": "Handle to the tree structure.",
          "required": true
        },
        {
          "name": "node_id",
          "type": "string",
          "description": "ID of the node to get metadata from.",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map of the node's metadata attributes.",
      "example": "tool.Tree.GetNodeMetadata(handle, \"node_id\")",
      "errorConditions": "Returns `ErrArgumentMismatch`, `ErrInvalidArgument`, `ErrTreeNotFound`, `ErrNodeNotFound`."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:999f0ad73cbd44e4d65295396106608797c5d051f345ccdb3ebcc4e84efa2bbc"
  },
  {
    "spec": {
      "name": "def_global_const",
      "groupname": "ns",
      "fullname": "tool.ns.def_global_const",
      "description": "Defines a global, immutable constant. Privileged operation.",
      "args": [
        {
          "name": "name",
          "type": "string",
          "description": "",
          "required": false
        },
        {
          "name": "value",
          "type": "any",
          "description": "",
          "required": false
        }
      ],
      "returnType": ""
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:401f2463030ba8ffca5705334c453ee0d9cc061481557307828e2be247a9654d"
  },
  {
    "spec": {
      "name": "Write",
      "groupname": "fs",
      "fullname": "tool.fs.write",
      "description": "Writes content to a specific file, overwriting it if it exists. Creates parent directories if needed. Returns 'OK' on success.",
      "category": "Filesystem",
      "args": [
        {
          "name": "filepath",
          "type": "string",
          "description": "Relative path to the file.",
          "required": true
        },
        {
          "name": "content",
          "type": "string",
          "description": "The content to write.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns 'OK' on success. Returns nil on error.",
      "example": "TOOL.FS.Write(filepath: \"output/data.json\", content: \"{\\\"key\\\":\\\"value\\\"}\")",
      "errorConditions": "ErrArgumentMismatch; ErrConfiguration; ErrSecurityPath; ErrCannotCreateDir; ErrPermissionDenied; ErrPathNotFile; ErrIOFailed."
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "write"
        ],
        "Scopes": null
      }
    ],
    "effects": [
      "writesFS",
      "idempotent"
    ],
    "signatureChecksum": "sha256:9049bfacf69d0b31f0243b6c11b1eb9166b2ab1be6d023243b1c33424d85f318"
  },
  {
    "spec": {
      "name": "Hash",
      "groupname": "fs",
      "fullname": "tool.fs.hash",
      "description": "Calculates the SHA256 hash of a specified file. Returns the hex-encoded hash string.",
      "category": "Filesystem",
      "args": [
        {
          "name": "filepath",
          "type": "string",
          "description": "Relative path (within the sandbox) of the file to hash.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns a hex-encoded SHA256 hash string of the file's content. Returns an empty string on error.",
      "example": "TOOL.FS.Hash(filepath: \"data/my_document.txt\")",
      "errorConditions": "ErrArgumentMismatch if filepath is empty; ErrConfiguration if sandbox is not set; ErrSecurityPath for invalid paths; ErrFileNotFound; ErrPermissionDenied; ErrPathNotFile if path is a directory; ErrIOFailed for I/O errors."
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "read"
        ],
        "Scopes": null
      }
    ],
    "effects": [
      "readsFS"
    ],
    "signatureChecksum": "sha256:1d8ac7d4f371b253b96c0581b777083e29a542444d550a8a15cc0fdd103ae4bf"
  },
  {
    "spec": {
      "name": "IsValid",
      "groupname": "handle",
      "fullname": "tool.handle.isvalid",
      "description": "Checks if a handle is valid (exists in the active registry).",
      "category": "Handle Inspection",
      "args": [
        {
          "name": "h",
          "type": "handle",
          "description": "The handle to check.",
          "required": true
        }
      ],
      "returnType": "bool",
      "returnHelp": "Returns true if the handle points to a live object, false otherwise.",
      "example": "if handle.IsValid(h) { ... }",
      "errorConditions": "Returns `ErrArgumentMismatch` if the argument is not a handle."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:58dc268e0e3025ce65a73a4306fde23de639cfc343e14d1841ca67b67e5206cd"
  },
  {
    "spec": {
      "name": "Diff",
      "groupname": "git",
      "fullname": "tool.git.diff",
      "description": "Shows changes between commits, commit and working tree, etc.",
      "category": "Git",
      "args": [
        {
          "name": "relative_path",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "cached",
          "type": "bool",
          "description": "",
          "required": false
        },
        {
          "name": "commit1",
          "type": "string",
          "description": "",
          "required": false
        },
        {
          "name": "commit2",
          "type": "string",
          "description": "",
          "required": false
        },
        {
          "name": "path",
          "type": "string",
          "description": "",
          "required": false
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "read"
        ],
        "Scopes": null
      },
      {
        "Resource": "shell",
        "Verbs": [
          "execute"
        ],
        "Scopes": [
          "git"
        ]
      }
    ],
    "effects": [
      "readsFS",
      "usesExternal:git"
    ],
    "signatureChecksum": "sha256:b38834e558f03274d756ec22600f7fc4e595be4a2e5e38e7227dc5d8109b91fe"
  },
  {
    "spec": {
      "name": "GetKind",
      "groupname": "ns_event",
      "fullname": "tool.ns_event.getkind",
      "description": "Extracts the event Kind from the first envelope in an ns standard event.",
      "args": [
        {
          "name": "event_object",
          "type": "map",
          "description": "The event object.",
          "required": true
        }
      ],
      "returnType": "string",
      "example": "ns_event.GetKind(ev)"
    },
    "requiresTrust": false,
    "isInternal": false,
    "effects": [
      "readonly"
    ],
    "signatureChecksum": "sha256:1c5b00268800233aec9fea7448b6c6044a4d99fd6ff079aa34bdceff708e162e"
  },
  {
    "spec": {
      "name": "ToUpper",
      "groupname": "str",
      "fullname": "tool.str.toupper",
      "description": "Converts a string to uppercase.",
      "category": "String Operations",
      "args": [
        {
          "name": "input_string",
          "type": "string",
          "description": "The string to convert.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the uppercase version of the input string.",
      "example": "tool.ToUpper(\"hello\") // Returns \"HELLO\"",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` (with `ErrorCodeType`) if `input_string` is not a string."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:02a8a024ee7c47ceb0f3a5865309a5150bf1ebe5cb2ffcb558d0404e01d976ba"
  },
  {
    "spec": {
      "name": "Contains",
      "groupname": "str",
      "fullname": "tool.str.contains",
      "description": "Checks if a string contains a substring.",
      "category": "String Operations",
      "args": [
        {
          "name": "input_string",
          "type": "string",
          "description": "The string to check.",
          "required": true
        },
        {
          "name": "substring",
          "type": "string",
          "description": "The substring to search for.",
          "required": true
        }
      ],
      "returnType": "bool",
      "returnHelp": "Returns true if the input_string contains the substring, false otherwise.",
      "example": "tool.Contains(\"hello world\", \"world\") // Returns true",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` (with `ErrorCodeType`) if `input_string` or `substring` are not strings."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:81f75e6ce77d9056431b769f7ae93c60aabe108bbc4e6f9f0057c71657c9e8a1"
  },
  {
    "spec": {
      "name": "ToBase64",
      "groupname": "str",
      "fullname": "tool.str.tobase64",
      "description": "Encodes a string using standard Base64 encoding.",
      "category": "String Codecs",
      "args": [
        {
          "name": "input_string",
          "type": "string",
          "description": "The string to encode.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the Base64 encoded string.",
      "example": "tool.ToBase64(\"hello world\") // Returns \"aGVsbG8gd29ybGQ=\"",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` if `input_string` is not a string."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:a10b831011e5c58dbafae3fac0c2faed8a14ed79d65cade54e58359604445a11"
  },
  {
    "spec": {
      "name": "BytesFromBase64",
      "groupname": "str",
      "fullname": "tool.str.bytesfrombase64",
      "description": "Decodes a Base64 string (representing bytes) into a string, assuming UTF-8 encoding.",
      "category": "String Codecs",
      "args": [
        {
          "name": "base64_string",
          "type": "string",
          "description": "The Base64 encoded string representing byte data.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the decoded UTF-8 string.",
      "example": "str.BytesFromBase64(\"SGVsbG8gV29ybGQ=\") // Returns \"Hello World\"",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` if input is not a string, invalid Base64, or not valid UTF-8."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:b56eb8c8d30ada126c12dce3029cd3d91a0aaf53c25454511a809d1f88c7edd5"
  },
  {
    "spec": {
      "name": "Append",
      "groupname": "fs",
      "fullname": "tool.fs.append",
      "description": "Appends content to a specific file. Creates the file and parent directories if needed. Returns 'OK' on success.",
      "category": "Filesystem",
      "args": [
        {
          "name": "filepath",
          "type": "string",
          "description": "Relative path to the file.",
          "required": true
        },
        {
          "name": "content",
          "type": "string",
          "description": "The content to append.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns 'OK' on success. Returns nil on error.",
      "example": "TOOL.FS.Append(filepath: \"logs/activity.log\", content: \"User logged in.\\n\")",
      "errorConditions": "ErrArgumentMismatch; ErrConfiguration; ErrSecurityPath; ErrCannotCreateDir; ErrPermissionDenied; ErrPathNotFile; ErrIOFailed."
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "write"
        ],
        "Scopes": null
      }
    ],
    "effects": [
      "writesFS"
    ],
    "signatureChecksum": "sha256:c0e97a359ad3665655419d90731f2d5fbc46fc4bdbb62f4ea97a4ea8fcce8e0e"
  },
  {
    "spec": {
      "name": "listGlobalConstants",
      "groupname": "meta",
      "fullname": "tool.meta.listglobalconstants",
      "description": "Lists all global constants visible to the interpreter, optionally filtered by name.",
      "category": "Introspection",
      "args": [
        {
          "name": "filter",
          "type": "string",
          "description": "A string to filter constant names. Case-insensitive.",
          "required": false
        }
      ],
      "returnType": "map",
      "returnHelp": "A map containing the names and values of matching global constants.",
      "example": "listGlobalConstants(\"FDM_\")"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:9b5fec1ec1d51166e14ae099edd6c890149961ad2fd5967f763921b0a628bb9d"
  },
  {
    "spec": {
      "name": "Get",
      "groupname": "list",
      "fullname": "tool.list.get",
      "description": "Safely gets the element at a specific index (0-based). Returns nil or the optional default value if the index is out of bounds.",
      "category": "List Operations",
      "args": [
        {
          "name": "list",
          "type": "slice_any",
          "description": "The list to get from.",
          "required": true
        },
        {
          "name": "index",
          "type": "int",
          "description": "The 0-based index.",
          "required": true
        },
        {
          "name": "default",
          "type": "any",
          "description": "Optional default value if index is out of bounds.",
          "required": false
        }
      ],
      "returnType": "any",
      "returnHelp": "Returns the element at the specified 0-based 'index' in the 'list'. If the index is out of bounds, it returns the provided 'default' value. If no 'default' is provided and the index is out of bounds, it returns nil.",
      "example": "tool.List.Get([\"a\", \"b\", \"c\"], 1) // returns \"b\"\\n tool.List.Get([\"a\"], 5, \"default_val\") // returns \"default_val\"",
      "errorConditions": "Returns nil or the default value if the index is out of bounds. No specific error type is returned for out-of-bounds access by design."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:f32ad0767a8ee6418c585e841d02040af1c909e79f26ac771a18179e944ce44d"
  },
  {
    "spec": {
      "name": "List",
      "groupname": "capsule",
      "fullname": "tool.capsule.list",
      "description": "Lists the IDs of all available documentation capsules.",
      "returnType": "slice_string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:bc77562240323c4310c38703d4f6f36069345b66e7938b2aaed00da3ebdd8571"
  },
  {
    "spec": {
      "name": "listToolNames",
      "groupname": "meta",
      "fullname": "tool.meta.listtoolnames",
      "description": "Provides a simple, newline-separated list of all available tool signatures, optionally filtered by name.",
      "category": "Introspection",
      "args": [
        {
          "name": "filter",
          "type": "string",
          "description": "A string to filter tool names. Only tools whose full name contains this text will be included.",
          "required": false
        }
      ],
      "returnType": "string",
      "returnHelp": "A single string, with each tool signature on its own line (e.g., 'tool.group.name(arg:type) -\u003e type').",
      "example": "listToolNames(\"file\")"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:340868e5876a87ac03f433e8f976ab1900961e8604790777485229b0b4ee883f"
  },
  {
    "spec": {
      "name": "GetID",
      "groupname": "ns_event",
      "fullname": "tool.ns_event.getid",
      "description": "Extracts the event ID from the first envelope in an ns standard event.",
      "args": [
        {
          "name": "event_object",
          "type": "map",
          "description": "The event object.",
          "required": true
        }
      ],
      "returnType": "string",
      "example": "ns_event.GetID(ev)"
    },
    "requiresTrust": false,
    "isInternal": false,
    "effects": [
      "readonly"
    ],
    "signatureChecksum": "sha256:1f2d9e0c420bc8c26cce1bc04e599d98a91a7a203a4d722f2dd03a64f83964e1"
  },
  {
    "spec": {
      "name": "Decompress",
      "groupname": "str",
      "fullname": "tool.str.decompress",
      "description": "Decodes a Base64 string and then decompresses the Gzip data to the original string.",
      "category": "String Compression",
      "args": [
        {
          "name": "base64_encoded_string",
          "type": "string",
          "description": "The Base64 encoded Gzip data to decompress.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the decompressed original string.",
      "example": "tool.Decompress(\"H4sIAAAAAAAA/...\")",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` if the input is not a valid Base64/Gzip string."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:bffe6be25e51910bbe23bb4cc54a84e8f2fa589d5c652c6a821514ca72a84ca2"
  },
  {
    "spec": {
      "name": "RemoveObjectAttribute",
      "groupname": "tree",
      "fullname": "tool.tree.removeobjectattribute",
      "description": "Removes an attribute from an 'object' type node.",
      "category": "Tree Manipulation",
      "args": [
        {
          "name": "tree_handle",
          "type": "string",
          "description": "Handle for the tree structure.",
          "required": true
        },
        {
          "name": "object_node_id",
          "type": "string",
          "description": "Unique ID of the 'object' type node to modify.",
          "required": true
        },
        {
          "name": "attribute_key",
          "type": "string",
          "description": "The key of the attribute to remove.",
          "required": true
        }
      ],
      "returnType": "nil",
      "returnHelp": "Returns nil on success.",
      "example": "tool.Tree.RemoveObjectAttribute(handle, \"obj_id\", \"myChild\")",
      "errorConditions": "Returns `ErrArgumentMismatch`, `ErrInvalidArgument`, `ErrTreeNotFound`, `ErrNodeNotFound`, `ErrTreeNodeNotObject`, `ErrAttributeNotFound`."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:b2a40483ef126fe4e8904eae9776cc47c348ece76d3a88d7abd27a5cd4ff65e0"
  },
  {
    "spec": {
      "name": "Move",
      "groupname": "fs",
      "fullname": "tool.fs.move",
      "description": "Moves or renames a file or directory within the sandbox.",
      "category": "Filesystem",
      "args": [
        {
          "name": "source_path",
          "type": "string",
          "description": "Relative path of the source file/directory.",
          "required": true
        },
        {
          "name": "destination_path",
          "type": "string",
          "description": "Relative path of the destination.",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map indicating success. Returns nil on error.",
      "example": "TOOL.FS.Move(source_path: \"old_name.txt\", destination_path: \"new_name.txt\")",
      "errorConditions": "ErrArgumentMismatch; ErrConfiguration; ErrSecurityPath; ErrFileNotFound; ErrPathExists; ErrPermissionDenied; ErrIOFailed."
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "write",
          "delete"
        ],
        "Scopes": null
      }
    ],
    "effects": [
      "writesFS",
      "idempotent"
    ],
    "signatureChecksum": "sha256:dd94d4f8a8bacbd1d42bc56711ab73395bdfe79a60628e3f7b4a6cfe835a6251"
  },
  {
    "spec": {
      "name": "Get",
      "groupname": "agentmodel",
      "fullname": "tool.agentmodel.get",
      "description": "Retrieves the full configuration of a registered agent model.",
      "args": [
        {
          "name": "name",
          "type": "string",
          "description": "The logical name of the model to retrieve.",
          "required": true
        }
      ],
      "returnType": "map"
    },
    "requiresTrust": false,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "model",
        "Verbs": [
          "read"
        ],
        "Scopes": [
          "*"
        ]
      }
    ],
    "signatureChecksum": "sha256:e10b417718120259825ceb9853b55d68989cc2c9a963b3b742aef36e8751e5e3"
  },
  {
    "spec": {
      "name": "Checkout",
      "groupname": "git",
      "fullname": "tool.git.checkout",
      "description": "Switches branches or restores working tree files.",
      "category": "Git",
      "args": [
        {
          "name": "relative_path",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "branch",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "create",
          "type": "bool",
          "description": "",
          "required": false
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "read",
          "write"
        ],
        "Scopes": null
      },
      {
        "Resource": "shell",
        "Verbs": [
          "execute"
        ],
        "Scopes": [
          "git"
        ]
      }
    ],
    "effects": [
      "writesFS",
      "usesExternal:git"
    ],
    "signatureChecksum": "sha256:5c017394f203385803d446e993e98eecf07878930ff86cf856904464a6ef303c"
  },
  {
    "spec": {
      "name": "Substring",
      "groupname": "str",
      "fullname": "tool.str.substring",
      "description": "Returns a portion of the string (rune-based indexing), from start_index for a given length.",
      "category": "String Operations",
      "args": [
        {
          "name": "input_string",
          "type": "string",
          "description": "The string to take a substring from.",
          "required": true
        },
        {
          "name": "start_index",
          "type": "int",
          "description": "0-based start index (inclusive).",
          "required": true
        },
        {
          "name": "length",
          "type": "int",
          "description": "Number of characters to extract.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the specified substring (rune-based). Returns an empty string if length is zero or if start_index is out of bounds (after clamping). Gracefully handles out-of-bounds for non-negative start_index and length by returning available characters.",
      "example": "tool.Substring(\"hello world\", 6, 5) // Returns \"world\"",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` (with `ErrorCodeType`) if arguments are not of the correct type. Returns `ErrListIndexOutOfBounds` (with `ErrorCodeBounds`) if `start_index` or `length` are negative."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:4e97b740a39669ea8131cb2a3c3eae00ccca64235905f975505126e69b8dd6e5"
  },
  {
    "spec": {
      "name": "NormalizeKey",
      "groupname": "metadata",
      "fullname": "tool.metadata.normalizekey",
      "description": "Normalizes a metadata key by converting it to lowercase and removing '.', '_', and '-' characters.",
      "args": [
        {
          "name": "key",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:a360a24c444508f81462ceba9bc8b170cff674ecde75ed08756c7c8b4a9e5eaf"
  },
  {
    "spec": {
      "name": "List",
      "groupname": "fs",
      "fullname": "tool.fs.list",
      "description": "Lists files and subdirectories at a given path. Returns a list of maps, each describing an entry.",
      "category": "Filesystem",
      "args": [
        {
          "name": "path",
          "type": "string",
          "description": "Relative path to the directory (use '.' for current).",
          "required": true
        },
        {
          "name": "recursive",
          "type": "bool",
          "description": "Whether to list recursively (default: false).",
          "required": false
        }
      ],
      "returnType": "slice_any",
      "returnHelp": "Returns a slice of maps detailing files/directories. Returns nil on error.",
      "example": "TOOL.FS.List(path: \"mydir\", recursive: true)",
      "errorConditions": "ErrArgumentMismatch; ErrConfiguration; ErrSecurityPath; ErrFileNotFound; ErrPermissionDenied; ErrPathNotDirectory; ErrIOFailed."
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "read"
        ],
        "Scopes": null
      }
    ],
    "effects": [
      "readsFS",
      "idempotent"
    ],
    "signatureChecksum": "sha256:f8f12ef804a8439d0f5aff37621856facc9da2c927d7b295d2ce39efff28d380"
  },
  {
    "spec": {
      "name": "Contains",
      "groupname": "list",
      "fullname": "tool.list.contains",
      "description": "Checks if a list contains a specific element (using deep equality comparison).",
      "category": "List Operations",
      "args": [
        {
          "name": "list",
          "type": "slice_any",
          "description": "The list to search within.",
          "required": true
        },
        {
          "name": "element",
          "type": "any",
          "description": "The element to search for (can be nil).",
          "required": false
        }
      ],
      "returnType": "bool",
      "returnHelp": "Returns true if the 'list' contains the specified 'element', using deep equality for comparison. Returns false otherwise.",
      "example": "tool.List.Contains([1, \"a\", true], \"a\") // returns true",
      "errorConditions": "None expected. Comparison with 'nil' elements is handled."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:2a19ce5d78cb4bdc83ae719d1a42cd14ae1af11ef4875ae794ecbba884403aa8"
  },
  {
    "spec": {
      "name": "BytesToBase64",
      "groupname": "str",
      "fullname": "tool.str.bytestobase64",
      "description": "Converts a string into a Base64 encoded string representing its UTF-8 bytes.",
      "category": "String Codecs",
      "args": [
        {
          "name": "string_data",
          "type": "string",
          "description": "The string to convert.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the Base64 encoded string representing the UTF-8 bytes.",
      "example": "str.BytesToBase64(\"Hello World\") // Returns \"SGVsbG8gV29ybGQ=\"",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided or input is not a string."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:a3b71a9cc55aa7cb7ff933b09e05c9b3c0408af36cb6dedf97cf25b9795fbd5c"
  },
  {
    "spec": {
      "name": "List",
      "groupname": "account",
      "fullname": "tool.account.list",
      "description": "Lists the names of all configured provider accounts.",
      "returnType": "slice_string",
      "example": "account.List()"
    },
    "requiresTrust": false,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "account",
        "Verbs": [
          "read"
        ],
        "Scopes": [
          "*"
        ]
      }
    ],
    "effects": [
      "readonly"
    ],
    "signatureChecksum": "sha256:10249d821f301e86f462f5c3410828f4f64e06ac21d40807f466ac9fb210fce1"
  },
  {
    "spec": {
      "name": "SanitizeFilename",
      "groupname": "fs",
      "fullname": "tool.fs.sanitizefilename",
      "description": "Cleans a string to make it suitable for use as part of a filename.",
      "category": "Filesystem Utilities",
      "args": [
        {
          "name": "name",
          "type": "string",
          "description": "The string to sanitize.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns a sanitized string suitable for use as a filename component.",
      "example": "TOOL.FS.SanitizeFilename(name: \"My Report Final?.docx\")",
      "errorConditions": "ErrArgumentMismatch if name is not provided or not a string."
    },
    "requiresTrust": false,
    "isInternal": false,
    "effects": [
      "idempotent"
    ],
    "signatureChecksum": "sha256:c2e044e028e1faf60fb87a89f2a2e91ce816128d0207e80e110a7e3b05498566"
  },
  {
    "spec": {
      "name": "Type",
      "groupname": "handle",
      "fullname": "tool.handle.type",
      "description": "Returns the kind/type tag of an opaque handle (e.g., 'fsmeta', 'overlaymeta').",
      "category": "Handle Inspection",
      "args": [
        {
          "name": "h",
          "type": "handle",
          "description": "The handle to inspect.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "The string identifier for the handle's kind.",
      "example": "if handle.Type(h) == \"fsmeta\" { ... }",
      "errorConditions": "Returns `ErrArgumentMismatch` if the argument is not a handle."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:5e1a4c53fcbe1bd01c25754a45f946d8490bb8daed01d675945c1fe948727885"
  },
  {
    "spec": {
      "name": "listFunctions",
      "groupname": "meta",
      "fullname": "tool.meta.listfunctions",
      "description": "Lists the names of all functions visible to the interpreter, optionally filtered by name.",
      "category": "Introspection",
      "args": [
        {
          "name": "filter",
          "type": "string",
          "description": "A string to filter function names. Case-insensitive.",
          "required": false
        }
      ],
      "returnType": "slice",
      "returnHelp": "A list of matching function names.",
      "example": "listFunctions(\"my_\")"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:55f11ab7a47c3bb6c3eb6510a34bece610aa83b173d78ccf80e4634b45814c7d"
  },
  {
    "spec": {
      "name": "Pull",
      "groupname": "git",
      "fullname": "tool.git.pull",
      "description": "Pulls the latest changes from the remote repository.",
      "category": "Git",
      "args": [
        {
          "name": "relative_path",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "remote_name",
          "type": "string",
          "description": "",
          "required": false
        },
        {
          "name": "branch_name",
          "type": "string",
          "description": "",
          "required": false
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "read",
          "write"
        ],
        "Scopes": null
      },
      {
        "Resource": "net",
        "Verbs": [
          "read"
        ],
        "Scopes": null
      },
      {
        "Resource": "shell",
        "Verbs": [
          "execute"
        ],
        "Scopes": [
          "git"
        ]
      }
    ],
    "effects": [
      "writesFS",
      "readsNet",
      "usesExternal:git"
    ],
    "signatureChecksum": "sha256:1e25eaf376c9e9931ce9a257b8b93d98236e9117f016defb1c00fb97bbc9dc58"
  },
  {
    "spec": {
      "name": "Concat",
      "groupname": "str",
      "fullname": "tool.str.concat",
      "description": "Concatenates a list of strings without a separator.",
      "category": "String Operations",
      "args": [
        {
          "name": "strings_list",
          "type": "any",
          "description": "List of strings to concatenate.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns a single string by concatenating all strings in the strings_list.",
      "example": "tool.Concat([\"hello\", \" \", \"world\"]) // Returns \"hello world\"",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` (with `ErrorCodeType`) if `strings_list` is not a list."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:824d50c82c989d547ba8823efa1112f2ad38fb38582bf7b4d5aec23401e026d0"
  },
  {
    "spec": {
      "name": "dumpClones",
      "groupname": "debug",
      "fullname": "tool.debug.dumpclones",
      "description": "Logs the state of all registered interpreter clones to the host's stdout.",
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:90d2503406a958e88ee3260e5d3edf66235af9de19c25cd53173a1d7ee49c0d1"
  },
  {
    "spec": {
      "name": "HasSuffix",
      "groupname": "str",
      "fullname": "tool.str.hassuffix",
      "description": "Checks if a string ends with a suffix.",
      "category": "String Operations",
      "args": [
        {
          "name": "input_string",
          "type": "string",
          "description": "The string to check.",
          "required": true
        },
        {
          "name": "suffix",
          "type": "string",
          "description": "The suffix to check for.",
          "required": true
        }
      ],
      "returnType": "bool",
      "returnHelp": "Returns true if the input_string ends with the suffix, false otherwise.",
      "example": "tool.HasSuffix(\"document.doc\", \".doc\") // Returns true",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` (with `ErrorCodeType`) if `input_string` or `suffix` are not strings."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:c8cc9d71fdac45cf4fe739989e74611f2f1eca61f1580a137fb7030f69d021e4"
  },
  {
    "spec": {
      "name": "ListPackages",
      "groupname": "gotools",
      "fullname": "tool.gotools.listpackages",
      "description": "Runs 'go list -json' for specified patterns in a target directory. Returns a list of maps, each describing a package.",
      "category": "Go Build Tools",
      "args": [
        {
          "name": "target_directory",
          "type": "string",
          "description": "Optional. The directory relative to the sandbox root to run 'go list'. Defaults to '.' (sandbox root).",
          "required": false
        },
        {
          "name": "patterns",
          "type": "slice_string",
          "description": "Optional. A list of package patterns (e.g., './...', 'example.com/project/...'). Defaults to ['./...'].",
          "required": false
        }
      ],
      "returnType": "slice_map",
      "returnHelp": "Returns a slice of maps, where each map is a JSON object representing a Go package as output by 'go list -json'. Returns an empty slice on command failure or if JSON decoding fails.",
      "example": "tool.gotools.ListPackages(target_directory: \"pkg/core\", patterns: [\"./...\"])",
      "errorConditions": "ErrValidationTypeMismatch if patterns arg contains non-string elements; ErrInternalTool if execution helper fails internally or JSON decoding fails; ErrConfiguration if sandbox is not set; ErrInternalSecurity for path validation issues. 'go list' command failures are reported in its output map rather than a Go error from the tool."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:61cecbcd19ad071dc9045ab752f6397680c24fa02a415b658b3effb469e6e7d9"
  },
  {
    "spec": {
      "name": "Detect",
      "groupname": "metadata",
      "fullname": "tool.metadata.detect",
      "description": "Detects the serialization format ('md' or 'ns') of a string content by checking for a '::serialization:' key.",
      "args": [
        {
          "name": "content",
          "type": "string",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:37e091a07bc53069b57ad9f8005f3c8f70a2916adf1750c11591e3483fb89849"
  },
  {
    "spec": {
      "name": "getToolSpecificationsJson",
      "groupname": "meta",
      "fullname": "tool.meta.gettoolspecificationsjson",
      "description": "Provides a JSON string containing an array of all currently available tool specifications.",
      "category": "Introspection",
      "returnType": "string",
      "returnHelp": "A JSON string representing an array of ToolSpec objects.",
      "example": "getToolSpecificationsJson()",
      "errorConditions": "Returns an error if JSON marshalling of the tool specifications fails."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:3d60242778f65fa2fa6bc28a2b2ce36eb20440895e569c751896068acb129d8d"
  },
  {
    "spec": {
      "name": "Rm",
      "groupname": "git",
      "fullname": "tool.git.rm",
      "description": "Removes files from the working tree and from the index.",
      "category": "Git",
      "args": [
        {
          "name": "relative_path",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "paths",
          "type": "any",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "read",
          "write",
          "delete"
        ],
        "Scopes": null
      },
      {
        "Resource": "shell",
        "Verbs": [
          "execute"
        ],
        "Scopes": [
          "git"
        ]
      }
    ],
    "effects": [
      "writesFS",
      "usesExternal:git"
    ],
    "signatureChecksum": "sha256:48371890a4b13c5b389ebb538626b0b78eaee2e8764c65cb15eb55fe4bd3261b"
  },
  {
    "spec": {
      "name": "LoadScript",
      "groupname": "script",
      "fullname": "tool.script.loadscript",
      "description": "Parses a string of NeuroScript code and loads its functions and event handlers into the current interpreter's scope. Does not execute any code.",
      "category": "Scripting",
      "args": [
        {
          "name": "script_content",
          "type": "string",
          "description": "A string containing the NeuroScript code to load.",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map with keys 'functions_loaded', 'event_handlers_loaded', and 'metadata', which contains the file-level metadata from the script header.",
      "example": "set result = tool.script.LoadScript(\":: purpose: example\\nfunc f()means\\nendfunc\")\\nemit result[\"metadata\"][\"purpose\"]",
      "errorConditions": "ErrArgumentMismatch if script_content is not a string or is missing. ErrSyntax if the script has syntax errors. ErrExecutionFailed if a function or event handler conflicts with an existing one (e.g., duplicate function name)."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:e1887c2b15481d19a2d510330050de63c17d6b1b8cfd42a809958daff1f1e03e"
  },
  {
    "spec": {
      "name": "TrimSpace",
      "groupname": "str",
      "fullname": "tool.str.trimspace",
      "description": "Removes leading and trailing whitespace from a string.",
      "category": "String Operations",
      "args": [
        {
          "name": "input_string",
          "type": "string",
          "description": "The string to trim.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the string with leading and trailing whitespace removed.",
      "example": "tool.TrimSpace(\"  hello  \") // Returns \"hello\"",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` (with `ErrorCodeType`) if `input_string` is not a string."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:e60ec88323f695e9bc209ca24f1627b293ee817984c6dc767df6c545ebe18e3a"
  },
  {
    "spec": {
      "name": "Modulo",
      "groupname": "math",
      "fullname": "tool.math.modulo",
      "description": "Calculates the modulo (remainder) of two integers (num1 % num2). Handles division by zero.",
      "category": "Math Operations",
      "args": [
        {
          "name": "num1",
          "type": "int",
          "description": "The dividend (must be integer).",
          "required": true
        },
        {
          "name": "num2",
          "type": "int",
          "description": "The divisor (must be integer).",
          "required": true
        }
      ],
      "returnType": "int",
      "returnHelp": "Returns the remainder of num1 % num2 as an int64. Both inputs must be integers.",
      "example": "tool.Modulo(10, 3) // returns 1",
      "errorConditions": "Returns 'ErrDivisionByZero' if num2 is 0. Returns an 'ErrInternalTool' if arguments cannot be processed as int64 (should be caught by validation)."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:1385e4a31e879db7e5a62c29942ea84ac629e222a0231e97f5133f94df0891cc"
  },
  {
    "spec": {
      "name": "Length",
      "groupname": "str",
      "fullname": "tool.str.length",
      "description": "Returns the number of UTF-8 characters (runes) in a string.",
      "category": "String Operations",
      "args": [
        {
          "name": "input_string",
          "type": "string",
          "description": "The string to measure.",
          "required": true
        }
      ],
      "returnType": "int",
      "returnHelp": "Returns an integer representing the number of runes in the input string.",
      "example": "tool.Length(\"hello\") // Returns 5",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` (with `ErrorCodeType`) if `input_string` is not a string."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:559a73f69f530d0b89ee2e4a77c964152154e89204e1babd533ef38adb5ac15b"
  },
  {
    "spec": {
      "name": "ModTidy",
      "groupname": "gotools",
      "fullname": "tool.gotools.modtidy",
      "description": "Runs 'go mod tidy' in the sandbox to add missing and remove unused modules. Operates in the sandbox root.",
      "category": "Go Build Tools",
      "returnType": "map",
      "returnHelp": "Returns a map with 'stdout', 'stderr', 'exit_code' (int64), and 'success' (bool) from the 'go mod tidy' command execution.",
      "example": "tool.gotools.ModTidy()",
      "errorConditions": "ErrConfiguration if sandbox is not set; ErrInternalSecurity for path validation issues. Command execution failures are reported within the returned map's 'success', 'stderr', and 'exit_code' fields."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:43beb30d41a22e861f3025890b61f3ad12e24445e8dbf69061310680202fcc77"
  },
  {
    "spec": {
      "name": "analyzeNSSyntax",
      "groupname": "syntax",
      "fullname": "tool.syntax.analyzenssyntax",
      "description": "Analyzes a NeuroScript string for syntax errors. Returns a list of maps, where each map details an error. Returns an empty list if no errors are found.",
      "category": "Syntax Utilities",
      "args": [
        {
          "name": "nsScriptContent",
          "type": "string",
          "description": "The NeuroScript content to analyze.",
          "required": true
        }
      ],
      "returnType": "slice_map",
      "returnHelp": "Returns a list (slice) of maps. Each map represents a syntax error and contains the following keys:\n- `Line`: number (1-based) - The line number of the error.\n- `Column`: number (0-based) - The character types.Position in the line where the error occurred.\n- `Msg`: string - The error message.\n- `OffendingSymbol`: string - The text of the token that caused the error (may be empty).\n- `SourceName`: string - Identifier for the source (e.g., 'nsSyntaxAnalysisToolInput').\nAn empty list is returned if no syntax errors are found.",
      "example": "set script_to_check = `func myFunc means\n  set x = \nendfunc`\nset error_list = tool.analyzeNSSyntax(script_to_check)\nif tool.List.IsEmpty(error_list) == false\n  set first_error = tool.List.Get(error_list, 0)\n  emit \"First error on line \" + first_error[\"Line\"] + \": \" + first_error[\"Msg\"]\nendif",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is supplied. Returns `ErrInvalidArgument` if `nsScriptContent` is not a string, or if the interpreter instance is nil. The underlying call to `AnalyzeNSSyntaxInternal` might return an error (e.g. `ErrInternal`) if there's an unexpected issue during its processing, though it aims to return an error list."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:16c85ca4018ad1c88823874485b8f72e364429dbced346fd2cfa31d4e1b2ef0f"
  },
  {
    "spec": {
      "name": "Stat",
      "groupname": "fs",
      "fullname": "tool.fs.stat",
      "description": "Gets information about a file or directory. Returns a map of file info.",
      "category": "Filesystem",
      "args": [
        {
          "name": "path",
          "type": "string",
          "description": "Relative path to the file or directory.",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map with file/directory info. Returns nil on error.",
      "example": "TOOL.FS.Stat(path: \"my_file.go\")",
      "errorConditions": "ErrArgumentMismatch; ErrConfiguration; ErrSecurityPath; ErrFileNotFound; ErrPermissionDenied; ErrIOFailed."
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "read"
        ],
        "Scopes": null
      }
    ],
    "effects": [
      "readsFS",
      "idempotent"
    ],
    "signatureChecksum": "sha256:d96ffd26c0ff33dc62bda80f78866c3d37af3c4a9c5b17844af788b2ddb2d3a2"
  },
  {
    "spec": {
      "name": "Push",
      "groupname": "git",
      "fullname": "tool.git.push",
      "description": "Pushes committed changes to a remote repository.",
      "category": "Git",
      "args": [
        {
          "name": "relative_path",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "remote_name",
          "type": "string",
          "description": "",
          "required": false
        },
        {
          "name": "branch_name",
          "type": "string",
          "description": "",
          "required": false
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "read"
        ],
        "Scopes": null
      },
      {
        "Resource": "net",
        "Verbs": [
          "write"
        ],
        "Scopes": null
      },
      {
        "Resource": "shell",
        "Verbs": [
          "execute"
        ],
        "Scopes": [
          "git"
        ]
      }
    ],
    "effects": [
      "readsFS",
      "writesNet",
      "usesExternal:git"
    ],
    "signatureChecksum": "sha256:19e45a215ed4d08b3321d0e91da25e08d242b05823cc10b4fff857c0e45a7502"
  },
  {
    "spec": {
      "name": "ToJsonString",
      "groupname": "str",
      "fullname": "tool.str.tojsonstring",
      "description": "Converts a map or list into a JSON formatted string, with optional pretty-printing.",
      "category": "String Codecs",
      "args": [
        {
          "name": "value",
          "type": "any",
          "description": "The map or list to stringify.",
          "required": true
        },
        {
          "name": "pretty_print",
          "type": "bool",
          "description": "If true, formats the JSON with indentation. Default: false.",
          "required": false
        },
        {
          "name": "prefix",
          "type": "string",
          "description": "The line prefix for pretty-printing. Default: \"\". Only used if pretty_print is true.",
          "required": false
        },
        {
          "name": "indent",
          "type": "string",
          "description": "The indentation string for pretty-printing. Default: \"  \". Only used if pretty_print is true.",
          "required": false
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the JSON formatted string.",
      "example": "str.ToJsonString({\"key\": \"value\"}, pretty_print: true, indent: \"\\t\") // Returns \"{\\n\\t\\\"key\\\": \\\"value\\\"\\n}\"",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` if the value cannot be represented as JSON or if optional arguments have wrong types."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:40c0c0423e069e5b5330addfed73fbdd2900085554ca866e2e0def02ba54c9e9"
  },
  {
    "spec": {
      "name": "ComposeEnvelope",
      "groupname": "aeiou",
      "fullname": "tool.aeiou.composeenvelope",
      "description": "Constructs a valid, multi-line AEIOU v3 envelope string.",
      "args": [
        {
          "name": "userdata",
          "type": "string",
          "description": "The JSON string for the USERDATA section.",
          "required": true
        },
        {
          "name": "actions",
          "type": "string",
          "description": "The NeuroScript command block for the ACTIONS section.",
          "required": true
        },
        {
          "name": "scratchpad",
          "type": "string",
          "description": "Optional: Content for the SCRATCHPAD section.",
          "required": false
        },
        {
          "name": "output",
          "type": "string",
          "description": "Optional: Content for the OUTPUT section.",
          "required": false
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:3b4e0fb87f5d973ce5e33ebdf63c0bb9c1b261e6f2b0fae9347b1b8d1afd9d83"
  },
  {
    "spec": {
      "name": "GetNode",
      "groupname": "tree",
      "fullname": "tool.tree.getnode",
      "description": "Retrieves detailed information about a specific node within a tree, returned as a map.",
      "category": "Tree Manipulation",
      "args": [
        {
          "name": "tree_handle",
          "type": "string",
          "description": "Handle to the tree structure.",
          "required": true
        },
        {
          "name": "node_id",
          "type": "string",
          "description": "The unique ID of the node to retrieve.",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map containing details of the specified node.",
      "example": "tool.Tree.GetNode(handle, \"node_id_123\")",
      "errorConditions": "Returns `ErrArgumentMismatch`, `ErrInvalidArgument`, `ErrTreeNotFound`, `ErrNodeNotFound`."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:ec73e14c6b5ea022d6a585d95a275e78c6fbe82f0d91fbd83d503157e230aa4d"
  },
  {
    "spec": {
      "name": "RemoveNode",
      "groupname": "tree",
      "fullname": "tool.tree.removenode",
      "description": "Removes a node and all its descendants from the tree.",
      "category": "Tree Manipulation",
      "args": [
        {
          "name": "tree_handle",
          "type": "string",
          "description": "Handle to the tree.",
          "required": true
        },
        {
          "name": "node_id",
          "type": "string",
          "description": "ID of the node to remove.",
          "required": true
        }
      ],
      "returnType": "nil",
      "returnHelp": "Returns nil on success.",
      "example": "tool.Tree.RemoveNode(handle, \"node_to_delete_id\")",
      "errorConditions": "Returns `ErrArgumentMismatch`, `ErrInvalidArgument`, `ErrTreeNotFound`, `ErrNodeNotFound`, `ErrCannotRemoveRoot`, `ErrInternal`."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:35b9f2b3ca68bef890f982d8a29b54898aba1ed91b0987e415932b5f84753e31"
  },
  {
    "spec": {
      "name": "Sleep",
      "groupname": "time",
      "fullname": "tool.time.sleep",
      "description": "Pauses the script execution for a specified duration.",
      "category": "Time",
      "args": [
        {
          "name": "duration_seconds",
          "type": "number",
          "description": "The number of seconds to sleep (can be a fraction).",
          "required": false
        }
      ],
      "returnType": "boolean",
      "returnHelp": "Returns true on successful completion of the sleep duration.",
      "example": "`call tool.Time.Sleep(1.5)`"
    },
    "requiresTrust": false,
    "isInternal": false,
    "effects": [
      "readsClock"
    ],
    "signatureChecksum": "sha256:cdec70042e6dba3c9d9f26b6fe8373baef51467ca0a1568565bf098438653066"
  },
  {
    "spec": {
      "name": "Delete",
      "groupname": "agentmodel",
      "fullname": "tool.agentmodel.delete",
      "description": "Deletes an agent model configuration.",
      "args": [
        {
          "name": "name",
          "type": "string",
          "description": "The logical name of the model to delete.",
          "required": true
        }
      ],
      "returnType": "bool"
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "model",
        "Verbs": [
          "admin"
        ],
        "Scopes": [
          "*"
        ]
      }
    ],
    "signatureChecksum": "sha256:3f88c399c85935ca0a4d0de9ce6f5911f3abac7c85e525e2b89cb745ce5825a3"
  },
  {
    "spec": {
      "name": "Getenv",
      "groupname": "os",
      "fullname": "tool.os.getenv",
      "description": "Gets the value of an environment variable. Requires 'env:read' capability.",
      "category": "Operating System",
      "args": [
        {
          "name": "varName",
          "type": "string",
          "description": "The name of the environment variable.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the value of the environment variable as a string. Returns an empty string if the variable is not set.",
      "example": "TOOL.OS.Getenv(varName: \"HOME\")",
      "errorConditions": "ErrArgumentMismatch if varName is empty or not a string. Returns an empty string for non-existent variables, which is not considered an error."
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "env",
        "Verbs": [
          "read"
        ],
        "Scopes": null
      }
    ],
    "effects": [
      "readsEnv"
    ],
    "signatureChecksum": "sha256:6128e589367da5efa0ef7ef72141299e1014365e699a24ac3c1920f399bdbb1b"
  },
  {
    "spec": {
      "name": "Add",
      "groupname": "git",
      "fullname": "tool.git.add",
      "description": "Adds file contents to the index.",
      "category": "Git",
      "args": [
        {
          "name": "relative_path",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "paths",
          "type": "slice_any",
          "description": "",
          "required": true
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "read",
          "write"
        ],
        "Scopes": null
      },
      {
        "Resource": "shell",
        "Verbs": [
          "execute"
        ],
        "Scopes": [
          "git"
        ]
      }
    ],
    "effects": [
      "writesFS",
      "usesExternal:git"
    ],
    "signatureChecksum": "sha256:8cc7d0d443acaa32a1671e2fe332310aff8bc6d174d01c1bd89df4b5605cac51"
  },
  {
    "spec": {
      "name": "Branch",
      "groupname": "git",
      "fullname": "tool.git.branch",
      "description": "Manages branches.",
      "category": "Git",
      "args": [
        {
          "name": "relative_path",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "name",
          "type": "string",
          "description": "",
          "required": false
        },
        {
          "name": "checkout",
          "type": "bool",
          "description": "",
          "required": false
        },
        {
          "name": "list_remote",
          "type": "bool",
          "description": "",
          "required": false
        },
        {
          "name": "list_all",
          "type": "bool",
          "description": "",
          "required": false
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "read",
          "write"
        ],
        "Scopes": null
      },
      {
        "Resource": "shell",
        "Verbs": [
          "execute"
        ],
        "Scopes": [
          "git"
        ]
      }
    ],
    "effects": [
      "writesFS",
      "readsFS",
      "usesExternal:git"
    ],
    "signatureChecksum": "sha256:337864effc2424fa1cdf5f35fe4a97875c68d50ad6db8d05d8ddb2f3f0604cec"
  },
  {
    "spec": {
      "name": "Rest",
      "groupname": "list",
      "fullname": "tool.list.rest",
      "description": "Returns a *new* list containing all elements except the first. Returns an empty list if the input list has 0 or 1 element.",
      "category": "List Operations",
      "args": [
        {
          "name": "list",
          "type": "slice_any",
          "description": "The list to get the rest from.",
          "required": true
        }
      ],
      "returnType": "slice_any",
      "returnHelp": "Returns a new list containing all elements of the input 'list' except the first. If the list has 0 or 1 element, it returns an empty list. The original list is not modified.",
      "example": "tool.List.Rest([1, 2, 3]) // returns [2, 3]\\ntool.List.Rest([1]) // returns []",
      "errorConditions": "None expected. Returns an empty list for lists with 0 or 1 element."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:dbfdfc57419bd99035972074e068fca6cd3aa046d2762e2621228e74f7981fbd"
  },
  {
    "spec": {
      "name": "GetPayload",
      "groupname": "ns_event",
      "fullname": "tool.ns_event.getpayload",
      "description": "Extracts the core payload from a raw ns standard event, unwrapping the outer envelope.",
      "args": [
        {
          "name": "event_object",
          "type": "map",
          "description": "The event object, typically from an 'on event' handler.",
          "required": true
        }
      ],
      "returnType": "map",
      "example": "ns_event.GetPayload(ev)"
    },
    "requiresTrust": false,
    "isInternal": false,
    "effects": [
      "readonly"
    ],
    "signatureChecksum": "sha256:9c9afbc6a96f8afed65e0712f9241eea5015f2736ff7d5e87bdceb47325b8159"
  },
  {
    "spec": {
      "name": "FindAllRegex",
      "groupname": "str",
      "fullname": "tool.str.findallregex",
      "description": "Finds all non-overlapping occurrences of a regex pattern in a string. Requires 'str:use:regex' capability.",
      "category": "String Regex",
      "args": [
        {
          "name": "pattern",
          "type": "string",
          "description": "The regex pattern to find.",
          "required": true
        },
        {
          "name": "input_string",
          "type": "string",
          "description": "The string to search in.",
          "required": true
        }
      ],
      "returnType": "slice_string",
      "returnHelp": "Returns a list of all matching substrings.",
      "example": "str.FindAllRegex(pattern: \"\\\\w+\", input_string: \"hello world 123\") // Returns [\"hello\", \"world\", \"123\"]",
      "errorConditions": "ErrInvalidArgument if the regex pattern is invalid."
    },
    "requiresTrust": false,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "str",
        "Verbs": [
          "use"
        ],
        "Scopes": [
          "regex"
        ]
      }
    ],
    "signatureChecksum": "sha256:f93a5d497f8bd071119fd68f5cc6d5aad8ad6660bcfe381a2938c51ebe7aa36e"
  },
  {
    "spec": {
      "name": "AddChildNode",
      "groupname": "tree",
      "fullname": "tool.tree.addchildnode",
      "description": "Adds a new child node to an existing parent node.",
      "category": "Tree Manipulation",
      "args": [
        {
          "name": "tree_handle",
          "type": "string",
          "description": "Handle for the tree structure.",
          "required": true
        },
        {
          "name": "parent_node_id",
          "type": "string",
          "description": "ID of the node that will become the parent.",
          "required": true
        },
        {
          "name": "new_node_id_suggestion",
          "type": "string",
          "description": "Optional suggested unique ID for the new node.",
          "required": false
        },
        {
          "name": "node_type",
          "type": "string",
          "description": "Type of the new child (e.g., 'object', 'array', 'string').",
          "required": true
        },
        {
          "name": "value",
          "type": "any",
          "description": "Initial value for simple types.",
          "required": false
        },
        {
          "name": "key_for_object_parent",
          "type": "string",
          "description": "Required if the parent is an 'object' node.",
          "required": false
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the string ID of the newly created child node.",
      "example": "tool.Tree.AddChildNode(handle, \"root_id\", \"newChild\", \"string\", \"hello\", \"message\")",
      "errorConditions": "Returns `ErrArgumentMismatch`, `ErrInvalidArgument`, `ErrTreeNotFound`, `ErrNodeNotFound`, `ErrNodeWrongType`, `ErrNodeIDExists`."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:3021a97179a21119403b0fb4b9316822ec9edf788c26d153c2af800f3aaf850d"
  },
  {
    "spec": {
      "name": "FindNodes",
      "groupname": "tree",
      "fullname": "tool.tree.findnodes",
      "description": "Finds nodes within a tree that match specific criteria.",
      "category": "Tree Manipulation",
      "args": [
        {
          "name": "tree_handle",
          "type": "string",
          "description": "Handle to the tree structure.",
          "required": true
        },
        {
          "name": "start_node_id",
          "type": "string",
          "description": "ID of the node to start searching from.",
          "required": true
        },
        {
          "name": "query_map",
          "type": "map",
          "description": "Map defining search criteria.",
          "required": true
        },
        {
          "name": "max_depth",
          "type": "int",
          "description": "Maximum depth to search.",
          "required": false
        },
        {
          "name": "max_results",
          "type": "int",
          "description": "Maximum number of results to return.",
          "required": false
        }
      ],
      "returnType": "slice_string",
      "returnHelp": "Returns a slice of node IDs matching the query.",
      "example": "tool.Tree.FindNodes(handle, \"start_node_id\", {\\\"type\\\":\\\"file\\\"})",
      "errorConditions": "Returns `ErrArgumentMismatch`, `ErrInvalidArgument`, `ErrTreeNotFound`, `ErrNodeNotFound`, `ErrTreeInvalidQuery`, `ErrInternal`."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:f0d2d024c84e7111a46a60a3c85e92049048cd24ba97a9e9d4ae17bbe56bb942"
  },
  {
    "spec": {
      "name": "RenderText",
      "groupname": "tree",
      "fullname": "tool.tree.rendertext",
      "description": "Renders a visual text representation of the entire tree structure.",
      "category": "Tree Manipulation",
      "args": [
        {
          "name": "tree_handle",
          "type": "string",
          "description": "Handle to the tree structure to render.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns a human-readable, indented text representation of the tree.",
      "example": "tool.Tree.RenderText(handle)",
      "errorConditions": "Returns `ErrArgumentMismatch`, `ErrInvalidArgument`, `ErrTreeNotFound`, `ErrInternal`."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:caeba1d9d45a77c9fef764a8be546d59d2c6f8abf843d92c28fdae601501ff00"
  },
  {
    "spec": {
      "name": "Exists",
      "groupname": "account",
      "fullname": "tool.account.exists",
      "description": "Checks if an account with the given name is registered.",
      "args": [
        {
          "name": "name",
          "type": "string",
          "description": "The logical name of the account to check.",
          "required": true
        }
      ],
      "returnType": "bool",
      "example": "account.Exists(\"openai-prod\")"
    },
    "requiresTrust": false,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "account",
        "Verbs": [
          "read"
        ],
        "Scopes": [
          "*"
        ]
      }
    ],
    "effects": [
      "readonly"
    ],
    "signatureChecksum": "sha256:ce3d7787355034ac301dbcaa5cf5256455e27377efa3a014d259afc4a9a3b380"
  },
  {
    "spec": {
      "name": "Imports",
      "groupname": "gotools",
      "fullname": "tool.gotools.imports",
      "description": "Formats Go source code and adjusts imports using 'golang.org/x/tools/imports'. Returns the processed code or an error map.",
      "category": "Go Formatting",
      "args": [
        {
          "name": "content",
          "type": "string",
          "description": "The Go source code content to process.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the processed Go source code (formatted and with adjusted imports) as a string. If processing fails, returns a map {'formatted_content': \u003coriginal_content\u003e, 'error': \u003cerror_string\u003e, 'success': false} and a Go-level error.",
      "example": "tool.gotools.Imports(content: \"package main\\nimport \\\"fmt\\\"\\nfunc main(){fmt.Println(\\\"hello\\\")}\")",
      "errorConditions": "ErrInternalTool if goimports processing fails, wrapping the original error from imports.Process. The specific processing error is in the 'error' field of the returned map if applicable."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:5e6e17a80840aa562ff40c5b2336e59f2db34ce1d19fe1e2513afa70fc0329ca"
  },
  {
    "spec": {
      "name": "ToJSON",
      "groupname": "tree",
      "fullname": "tool.tree.tojson",
      "description": "Converts a tree structure back into a pretty-printed JSON string.",
      "category": "Tree Manipulation",
      "args": [
        {
          "name": "tree_handle",
          "type": "string",
          "description": "Handle to the tree structure.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns a pretty-printed JSON string representation of the tree.",
      "example": "handle = tool.Tree.LoadJSON(\"{\\\"key\\\":\\\"value\\\"}\"); tool.Tree.ToJSON(handle)",
      "errorConditions": "Returns `ErrArgumentMismatch`, `ErrInvalidArgument`, `ErrTreeNotFound`, `ErrTreeJSONMarshal`, `ErrInternal`."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:656f45974bd958ee70e05a01a4de7444f44b548304f51eac48b79b17b5343d35"
  },
  {
    "spec": {
      "name": "LineCount",
      "groupname": "fs",
      "fullname": "tool.fs.linecount",
      "description": "Counts lines in a specified file. Returns line count as an integer.",
      "category": "Filesystem",
      "args": [
        {
          "name": "filepath",
          "type": "string",
          "description": "Relative path to the file.",
          "required": true
        }
      ],
      "returnType": "int",
      "returnHelp": "Returns the number of lines in the specified file. Returns 0 on error or if file is empty.",
      "example": "TOOL.FS.LineCount(filepath: \"logs/app.log\")",
      "errorConditions": "ErrArgumentMismatch if filepath is empty; ErrConfiguration if sandbox is not set; ErrSecurityPath for invalid paths; ErrFileNotFound; ErrPermissionDenied; ErrPathNotFile if path is a directory; ErrIOFailed for read errors."
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "read"
        ],
        "Scopes": null
      }
    ],
    "effects": [
      "readsFS"
    ],
    "signatureChecksum": "sha256:5b35ec6ef0d57bb7adfcccbd4a27714c09ac711464b45cf5f57260f5108c3a73"
  },
  {
    "spec": {
      "name": "Now",
      "groupname": "time",
      "fullname": "tool.time.now",
      "description": "Returns the current system time as a 'timedate' value.",
      "category": "Time",
      "returnType": "timedate",
      "returnHelp": "A 'timedate' value representing the moment the tool was called.",
      "example": "`set right_now = tool.Time.Now()`"
    },
    "requiresTrust": false,
    "isInternal": false,
    "effects": [
      "readsClock"
    ],
    "signatureChecksum": "sha256:701a1240eda41354fce61081d7552aca5703cd06bcd167538d9ca5dba727a588"
  },
  {
    "spec": {
      "name": "Register",
      "groupname": "agentmodel",
      "fullname": "tool.agentmodel.register",
      "description": "Registers a new agent model configuration.",
      "args": [
        {
          "name": "name",
          "type": "string",
          "description": "The logical name for the agent model (e.g., 'gpt-4-turbo').",
          "required": true
        },
        {
          "name": "config",
          "type": "map",
          "description": "A map containing model details like 'provider' and 'model'.",
          "required": true
        }
      ],
      "returnType": "bool"
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "model",
        "Verbs": [
          "admin"
        ],
        "Scopes": [
          "*"
        ]
      }
    ],
    "signatureChecksum": "sha256:5b142453c32bbb24002b345eb7c40857681bf9a66839be7a22b0d546c04e8b2d"
  },
  {
    "spec": {
      "name": "AppendInPlace",
      "groupname": "list",
      "fullname": "tool.list.appendinplace",
      "description": "Efficiently returns a list with the element added. Intended for building lists in loops.",
      "category": "List Operations",
      "args": [
        {
          "name": "list",
          "type": "slice_any",
          "description": "The list to append to.",
          "required": true
        },
        {
          "name": "element",
          "type": "any",
          "description": "The element to append (can be nil).",
          "required": false
        }
      ],
      "returnType": "slice_any",
      "returnHelp": "Returns the list with the 'element' added to the end. Although named 'InPlace' for intent, it returns the potentially re-allocated list.",
      "example": "set my_list = [1, 2]\\nset my_list = tool.List.AppendInPlace(my_list, 3) // my_list is now [1, 2, 3]",
      "errorConditions": "None expected, as input validation ensures 'list' is a slice. Appending 'nil' is allowed."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:f05f418759650cf8928ba08f2aa7f8c735651eb7e9fb803a392e408900027b39"
  },
  {
    "spec": {
      "name": "Slice",
      "groupname": "list",
      "fullname": "tool.list.slice",
      "description": "Returns a *new* list containing elements from the start index (inclusive) up to the end index (exclusive). Follows Go slice semantics (indices are clamped, invalid range returns empty list).",
      "category": "List Operations",
      "args": [
        {
          "name": "list",
          "type": "slice_any",
          "description": "The list to slice.",
          "required": true
        },
        {
          "name": "start",
          "type": "int",
          "description": "The starting index (inclusive).",
          "required": true
        },
        {
          "name": "end",
          "type": "int",
          "description": "The ending index (exclusive).",
          "required": true
        }
      ],
      "returnType": "slice_any",
      "returnHelp": "Returns a new list containing elements from the 'start' index (inclusive) up to the 'end' index (exclusive). Adheres to Go's slice semantics: indices are clamped to valid ranges (0 to list length). If 'start' \u003e 'end' after clamping, or if 'start' is out of bounds (e.g. beyond list length), an empty list is returned. The original list is not modified.",
      "example": "tool.List.Slice([1, 2, 3, 4, 5], 1, 4) // returns [2, 3, 4]",
      "errorConditions": "Returns an empty list for invalid or out-of-bounds start/end indices. Does not return an error for range issues."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:5cedefacda0a076ffd8ccde2a0f743a6462df04006fd88489914785073dd3384"
  },
  {
    "spec": {
      "name": "ReplaceRegex",
      "groupname": "str",
      "fullname": "tool.str.replaceregex",
      "description": "Replaces all occurrences of a regex pattern in a string with a replacement string. Requires 'str:use:regex' capability.",
      "category": "String Regex",
      "args": [
        {
          "name": "pattern",
          "type": "string",
          "description": "The regex pattern to find.",
          "required": true
        },
        {
          "name": "input_string",
          "type": "string",
          "description": "The string to search in.",
          "required": true
        },
        {
          "name": "replacement",
          "type": "string",
          "description": "The string to replace matches with.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns a new string with all replacements made.",
      "example": "str.ReplaceRegex(pattern: \"\\\\s+\", input_string: \"a  b c\", replacement: \"-\") // Returns \"a-b-c\"",
      "errorConditions": "ErrInvalidArgument if the regex pattern is invalid."
    },
    "requiresTrust": false,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "str",
        "Verbs": [
          "use"
        ],
        "Scopes": [
          "regex"
        ]
      }
    ],
    "signatureChecksum": "sha256:6e349e0177d7abd2a8449af0121c5f4c785a310b2f0ea10bd0f8227152ee9f91"
  },
  {
    "spec": {
      "name": "Reverse",
      "groupname": "list",
      "fullname": "tool.list.reverse",
      "description": "Returns a *new* list with the elements in reverse order.",
      "category": "List Operations",
      "args": [
        {
          "name": "list",
          "type": "slice_any",
          "description": "The list to reverse.",
          "required": true
        }
      ],
      "returnType": "slice_any",
      "returnHelp": "Returns a new list with the elements of the input 'list' in reverse order. The original list is not modified.",
      "example": "tool.List.Reverse([1, 2, 3]) // returns [3, 2, 1]",
      "errorConditions": "None expected."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:59a652d9c00942e3874213ba0f2e7fb89f517786bf68e7375c744fc83530c653"
  },
  {
    "spec": {
      "name": "FromHex",
      "groupname": "str",
      "fullname": "tool.str.fromhex",
      "description": "Decodes a string from its hexadecimal representation.",
      "category": "String Codecs",
      "args": [
        {
          "name": "encoded_string",
          "type": "string",
          "description": "The hex string to decode.",
          "required": true
        }
      ],
      "returnType": "string",
      "returnHelp": "Returns the decoded string.",
      "example": "tool.FromHex(\"68656c6c6f\") // Returns \"hello\"",
      "errorConditions": "Returns `ErrArgumentMismatch` if the wrong number of arguments is provided. Returns `ErrInvalidArgument` if `encoded_string` is not a string or is invalid hex."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:0442f8a7e5a5f9e1e7455363942bcdef99d7f0927e13a42bf5e76680a49ff007"
  },
  {
    "spec": {
      "name": "Hostname",
      "groupname": "os",
      "fullname": "tool.os.hostname",
      "description": "Gets the hostname of the machine.",
      "category": "Operating System",
      "returnType": "string",
      "returnHelp": "Returns the kernel's hostname.",
      "example": "os.Hostname()"
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:1a436387d1abf094ef0f44907c7294dd8be3ed6656a58ca6e08223da9f2f19fa"
  },
  {
    "spec": {
      "name": "GetRoot",
      "groupname": "tree",
      "fullname": "tool.tree.getroot",
      "description": "Retrieves the root node of the tree as a map.",
      "category": "Tree Manipulation",
      "args": [
        {
          "name": "tree_handle",
          "type": "string",
          "description": "Handle to the tree structure.",
          "required": true
        }
      ],
      "returnType": "map",
      "returnHelp": "Returns a map containing details of the root node.",
      "example": "handle = tool.Tree.LoadJSON(\"{}\"); tool.Tree.GetRoot(handle)",
      "errorConditions": "Returns `ErrArgumentMismatch`, `ErrInvalidArgument`, `ErrTreeNotFound`, `ErrInternal`."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:12d4af179f9c20531929d4a2c0e328ca526dbfa698bdfd633eeb027e54653ee8"
  },
  {
    "spec": {
      "name": "SetObjectAttribute",
      "groupname": "tree",
      "fullname": "tool.tree.setobjectattribute",
      "description": "Sets or updates an attribute on an 'object' type node.",
      "category": "Tree Manipulation",
      "args": [
        {
          "name": "tree_handle",
          "type": "string",
          "description": "Handle for the tree structure.",
          "required": true
        },
        {
          "name": "object_node_id",
          "type": "string",
          "description": "Unique ID of the 'object' type node to modify.",
          "required": true
        },
        {
          "name": "attribute_key",
          "type": "string",
          "description": "The key of the attribute to set.",
          "required": true
        },
        {
          "name": "child_node_id",
          "type": "string",
          "description": "The ID of an existing node to associate with the key.",
          "required": true
        }
      ],
      "returnType": "nil",
      "returnHelp": "Returns nil on success.",
      "example": "tool.Tree.SetObjectAttribute(handle, \"obj_id\", \"myChild\", \"child_id\")",
      "errorConditions": "Returns `ErrArgumentMismatch`, `ErrInvalidArgument`, `ErrTreeNotFound`, `ErrNodeNotFound`, `ErrTreeNodeNotObject`."
    },
    "requiresTrust": false,
    "isInternal": false,
    "signatureChecksum": "sha256:866e3310622729b9bb23bf4c54173205e04a276b2db4b893054a9026bcb46406"
  },
  {
    "spec": {
      "name": "Reset",
      "groupname": "git",
      "fullname": "tool.git.reset",
      "description": "Resets the current HEAD to the specified state.",
      "category": "Git",
      "args": [
        {
          "name": "relative_path",
          "type": "string",
          "description": "",
          "required": true
        },
        {
          "name": "mode",
          "type": "string",
          "description": "",
          "required": false
        },
        {
          "name": "commit",
          "type": "string",
          "description": "",
          "required": false
        }
      ],
      "returnType": "string"
    },
    "requiresTrust": true,
    "isInternal": false,
    "requiredCaps": [
      {
        "Resource": "fs",
        "Verbs": [
          "read",
          "write"
        ],
        "Scopes": null
      },
      {
        "Resource": "shell",
        "Verbs": [
          "execute"
        ],
        "Scopes": [
          "git"
        ]
      }
    ],
    "effects": [
      "writesFS",
      "usesExternal:git"
    ],
    "signatureChecksum": "sha256:37905eba9aca1498253e9434e9981189b97a434a4e2768098cc9b05f1c055faa"
  }
]