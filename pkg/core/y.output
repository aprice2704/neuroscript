
state 0
	$accept: .program $end 
	procedure_list: .    (2)

	.  reduce 2 (src line 83)

	program  goto 1
	procedure_list  goto 2

state 1
	$accept:  program.$end 

	$end  accept
	.  error


state 2
	program:  procedure_list.    (1)
	procedure_list:  procedure_list.procedure_definition 
	procedure_list:  procedure_list.NEWLINE 

	KW_DEFINE  shift 5
	NEWLINE  shift 4
	.  reduce 1 (src line 74)

	procedure_definition  goto 3

state 3
	procedure_list:  procedure_list procedure_definition.    (3)

	.  reduce 3 (src line 84)


state 4
	procedure_list:  procedure_list NEWLINE.    (4)

	.  reduce 4 (src line 85)


state 5
	procedure_definition:  KW_DEFINE.KW_PROCEDURE IDENTIFIER LPAREN param_list_opt RPAREN NEWLINE comment_block statement_list KW_END NEWLINE 

	KW_PROCEDURE  shift 6
	.  error


state 6
	procedure_definition:  KW_DEFINE KW_PROCEDURE.IDENTIFIER LPAREN param_list_opt RPAREN NEWLINE comment_block statement_list KW_END NEWLINE 

	IDENTIFIER  shift 7
	.  error


state 7
	procedure_definition:  KW_DEFINE KW_PROCEDURE IDENTIFIER.LPAREN param_list_opt RPAREN NEWLINE comment_block statement_list KW_END NEWLINE 

	LPAREN  shift 8
	.  error


state 8
	procedure_definition:  KW_DEFINE KW_PROCEDURE IDENTIFIER LPAREN.param_list_opt RPAREN NEWLINE comment_block statement_list KW_END NEWLINE 
	param_list_opt: .    (6)

	IDENTIFIER  shift 11
	.  reduce 6 (src line 97)

	param_list_opt  goto 9
	param_list  goto 10

state 9
	procedure_definition:  KW_DEFINE KW_PROCEDURE IDENTIFIER LPAREN param_list_opt.RPAREN NEWLINE comment_block statement_list KW_END NEWLINE 

	RPAREN  shift 12
	.  error


state 10
	param_list_opt:  param_list.    (7)
	param_list:  param_list.COMMA IDENTIFIER 

	COMMA  shift 13
	.  reduce 7 (src line 97)


state 11
	param_list:  IDENTIFIER.    (8)

	.  reduce 8 (src line 98)


state 12
	procedure_definition:  KW_DEFINE KW_PROCEDURE IDENTIFIER LPAREN param_list_opt RPAREN.NEWLINE comment_block statement_list KW_END NEWLINE 

	NEWLINE  shift 14
	.  error


state 13
	param_list:  param_list COMMA.IDENTIFIER 

	IDENTIFIER  shift 15
	.  error


state 14
	procedure_definition:  KW_DEFINE KW_PROCEDURE IDENTIFIER LPAREN param_list_opt RPAREN NEWLINE.comment_block statement_list KW_END NEWLINE 

	KW_COMMENT  shift 17
	.  error

	comment_block  goto 16

state 15
	param_list:  param_list COMMA IDENTIFIER.    (9)

	.  reduce 9 (src line 98)


state 16
	procedure_definition:  KW_DEFINE KW_PROCEDURE IDENTIFIER LPAREN param_list_opt RPAREN NEWLINE comment_block.statement_list KW_END NEWLINE 
	statement_list: .    (11)

	.  reduce 11 (src line 102)

	statement_list  goto 18

state 17
	comment_block:  KW_COMMENT.DOC_COMMENT_CONTENT KW_END NEWLINE 

	DOC_COMMENT_CONTENT  shift 19
	.  error


state 18
	procedure_definition:  KW_DEFINE KW_PROCEDURE IDENTIFIER LPAREN param_list_opt RPAREN NEWLINE comment_block statement_list.KW_END NEWLINE 
	statement_list:  statement_list.statement 
	statement_list:  statement_list.NEWLINE 

	KW_END  shift 20
	KW_SET  shift 31
	KW_CALL  shift 32
	KW_RETURN  shift 33
	KW_IF  shift 34
	KW_WHILE  shift 35
	KW_FOR  shift 36
	NEWLINE  shift 22
	.  error

	statement  goto 21
	simple_statement  goto 23
	block_statement  goto 24
	if_statement  goto 28
	while_statement  goto 29
	for_each_statement  goto 30
	set_statement  goto 25
	call_statement  goto 26
	return_statement  goto 27

state 19
	comment_block:  KW_COMMENT DOC_COMMENT_CONTENT.KW_END NEWLINE 

	KW_END  shift 37
	.  error


state 20
	procedure_definition:  KW_DEFINE KW_PROCEDURE IDENTIFIER LPAREN param_list_opt RPAREN NEWLINE comment_block statement_list KW_END.NEWLINE 

	NEWLINE  shift 38
	.  error


state 21
	statement_list:  statement_list statement.    (12)

	.  reduce 12 (src line 103)


state 22
	statement_list:  statement_list NEWLINE.    (13)

	.  reduce 13 (src line 104)


state 23
	statement:  simple_statement.    (14)

	.  reduce 14 (src line 108)


state 24
	statement:  block_statement.    (15)

	.  reduce 15 (src line 109)


state 25
	simple_statement:  set_statement.    (16)

	.  reduce 16 (src line 113)


state 26
	simple_statement:  call_statement.    (17)

	.  reduce 17 (src line 113)


state 27
	simple_statement:  return_statement.    (18)

	.  reduce 18 (src line 113)


state 28
	block_statement:  if_statement.    (19)

	.  reduce 19 (src line 116)


state 29
	block_statement:  while_statement.    (20)

	.  reduce 20 (src line 116)


state 30
	block_statement:  for_each_statement.    (21)

	.  reduce 21 (src line 116)


state 31
	set_statement:  KW_SET.IDENTIFIER ASSIGN expression 

	IDENTIFIER  shift 39
	.  error


state 32
	call_statement:  KW_CALL.call_target LPAREN expression_list_opt RPAREN 

	IDENTIFIER  shift 41
	KW_TOOL  shift 42
	KW_LLM  shift 43
	.  error

	call_target  goto 40

state 33
	return_statement:  KW_RETURN.    (24)
	return_statement:  KW_RETURN.expression 

	IDENTIFIER  shift 48
	STRING_LIT  shift 51
	LPAREN  shift 50
	LBRACK  shift 55
	LBRACE  shift 56
	PLACEHOLDER_START  shift 54
	KW_LAST_CALL_RESULT  shift 49
	.  reduce 24 (src line 121)

	expression  goto 44
	term  goto 45
	literal  goto 46
	placeholder  goto 47
	list_literal  goto 52
	map_literal  goto 53

state 34
	if_statement:  KW_IF.condition KW_THEN statement_list KW_END 

	IDENTIFIER  shift 48
	STRING_LIT  shift 51
	LPAREN  shift 50
	LBRACK  shift 55
	LBRACE  shift 56
	PLACEHOLDER_START  shift 54
	KW_LAST_CALL_RESULT  shift 49
	.  error

	expression  goto 58
	term  goto 45
	literal  goto 46
	placeholder  goto 47
	condition  goto 57
	list_literal  goto 52
	map_literal  goto 53

state 35
	while_statement:  KW_WHILE.condition KW_DO statement_list KW_END 

	IDENTIFIER  shift 48
	STRING_LIT  shift 51
	LPAREN  shift 50
	LBRACK  shift 55
	LBRACE  shift 56
	PLACEHOLDER_START  shift 54
	KW_LAST_CALL_RESULT  shift 49
	.  error

	expression  goto 58
	term  goto 45
	literal  goto 46
	placeholder  goto 47
	condition  goto 59
	list_literal  goto 52
	map_literal  goto 53

state 36
	for_each_statement:  KW_FOR.KW_EACH IDENTIFIER KW_IN expression KW_DO statement_list KW_END 

	KW_EACH  shift 60
	.  error


state 37
	comment_block:  KW_COMMENT DOC_COMMENT_CONTENT KW_END.NEWLINE 

	NEWLINE  shift 61
	.  error


state 38
	procedure_definition:  KW_DEFINE KW_PROCEDURE IDENTIFIER LPAREN param_list_opt RPAREN NEWLINE comment_block statement_list KW_END NEWLINE.    (5)

	.  reduce 5 (src line 88)


state 39
	set_statement:  KW_SET IDENTIFIER.ASSIGN expression 

	ASSIGN  shift 62
	.  error


state 40
	call_statement:  KW_CALL call_target.LPAREN expression_list_opt RPAREN 

	LPAREN  shift 63
	.  error


state 41
	call_target:  IDENTIFIER.    (29)

	.  reduce 29 (src line 129)


state 42
	call_target:  KW_TOOL.DOT IDENTIFIER 

	DOT  shift 64
	.  error


state 43
	call_target:  KW_LLM.    (31)

	.  reduce 31 (src line 129)


state 44
	return_statement:  KW_RETURN expression.    (25)
	expression:  expression.PLUS term 

	PLUS  shift 65
	.  reduce 25 (src line 121)


state 45
	expression:  term.    (35)

	.  reduce 35 (src line 131)


state 46
	term:  literal.    (37)

	.  reduce 37 (src line 132)


state 47
	term:  placeholder.    (38)

	.  reduce 38 (src line 132)


state 48
	term:  IDENTIFIER.    (39)

	.  reduce 39 (src line 132)


state 49
	term:  KW_LAST_CALL_RESULT.    (40)

	.  reduce 40 (src line 132)


state 50
	term:  LPAREN.expression RPAREN 

	IDENTIFIER  shift 48
	STRING_LIT  shift 51
	LPAREN  shift 50
	LBRACK  shift 55
	LBRACE  shift 56
	PLACEHOLDER_START  shift 54
	KW_LAST_CALL_RESULT  shift 49
	.  error

	expression  goto 66
	term  goto 45
	literal  goto 46
	placeholder  goto 47
	list_literal  goto 52
	map_literal  goto 53

state 51
	literal:  STRING_LIT.    (43)

	.  reduce 43 (src line 134)


state 52
	literal:  list_literal.    (44)

	.  reduce 44 (src line 134)


state 53
	literal:  map_literal.    (45)

	.  reduce 45 (src line 134)


state 54
	placeholder:  PLACEHOLDER_START.IDENTIFIER PLACEHOLDER_END 

	IDENTIFIER  shift 67
	.  error


state 55
	list_literal:  LBRACK.expression_list_opt RBRACK 
	expression_list_opt: .    (48)

	IDENTIFIER  shift 48
	STRING_LIT  shift 51
	LPAREN  shift 50
	LBRACK  shift 55
	LBRACE  shift 56
	PLACEHOLDER_START  shift 54
	KW_LAST_CALL_RESULT  shift 49
	.  reduce 48 (src line 137)

	expression  goto 70
	term  goto 45
	literal  goto 46
	placeholder  goto 47
	list_literal  goto 52
	map_literal  goto 53
	expression_list_opt  goto 68
	expression_list_final  goto 69

state 56
	map_literal:  LBRACE.map_entry_list_opt RBRACE 
	map_entry_list_opt: .    (52)

	STRING_LIT  shift 74
	.  reduce 52 (src line 139)

	map_entry  goto 73
	map_entry_list_opt  goto 71
	map_entry_list_final  goto 72

state 57
	if_statement:  KW_IF condition.KW_THEN statement_list KW_END 

	KW_THEN  shift 75
	.  error


state 58
	condition:  expression.    (32)
	condition:  expression.EQ expression 
	condition:  expression.NEQ expression 
	expression:  expression.PLUS term 

	PLUS  shift 65
	EQ  shift 76
	NEQ  shift 77
	.  reduce 32 (src line 130)


state 59
	while_statement:  KW_WHILE condition.KW_DO statement_list KW_END 

	KW_DO  shift 78
	.  error


state 60
	for_each_statement:  KW_FOR KW_EACH.IDENTIFIER KW_IN expression KW_DO statement_list KW_END 

	IDENTIFIER  shift 79
	.  error


state 61
	comment_block:  KW_COMMENT DOC_COMMENT_CONTENT KW_END NEWLINE.    (10)

	.  reduce 10 (src line 100)


state 62
	set_statement:  KW_SET IDENTIFIER ASSIGN.expression 

	IDENTIFIER  shift 48
	STRING_LIT  shift 51
	LPAREN  shift 50
	LBRACK  shift 55
	LBRACE  shift 56
	PLACEHOLDER_START  shift 54
	KW_LAST_CALL_RESULT  shift 49
	.  error

	expression  goto 80
	term  goto 45
	literal  goto 46
	placeholder  goto 47
	list_literal  goto 52
	map_literal  goto 53

state 63
	call_statement:  KW_CALL call_target LPAREN.expression_list_opt RPAREN 
	expression_list_opt: .    (48)

	IDENTIFIER  shift 48
	STRING_LIT  shift 51
	LPAREN  shift 50
	LBRACK  shift 55
	LBRACE  shift 56
	PLACEHOLDER_START  shift 54
	KW_LAST_CALL_RESULT  shift 49
	.  reduce 48 (src line 137)

	expression  goto 70
	term  goto 45
	literal  goto 46
	placeholder  goto 47
	list_literal  goto 52
	map_literal  goto 53
	expression_list_opt  goto 81
	expression_list_final  goto 69

state 64
	call_target:  KW_TOOL DOT.IDENTIFIER 

	IDENTIFIER  shift 82
	.  error


state 65
	expression:  expression PLUS.term 

	IDENTIFIER  shift 48
	STRING_LIT  shift 51
	LPAREN  shift 50
	LBRACK  shift 55
	LBRACE  shift 56
	PLACEHOLDER_START  shift 54
	KW_LAST_CALL_RESULT  shift 49
	.  error

	term  goto 83
	literal  goto 46
	placeholder  goto 47
	list_literal  goto 52
	map_literal  goto 53

state 66
	expression:  expression.PLUS term 
	term:  LPAREN expression.RPAREN 

	PLUS  shift 65
	RPAREN  shift 84
	.  error


state 67
	placeholder:  PLACEHOLDER_START IDENTIFIER.PLACEHOLDER_END 

	PLACEHOLDER_END  shift 85
	.  error


state 68
	list_literal:  LBRACK expression_list_opt.RBRACK 

	RBRACK  shift 86
	.  error


state 69
	expression_list_opt:  expression_list_final.    (49)
	expression_list_final:  expression_list_final.COMMA expression 

	COMMA  shift 87
	.  reduce 49 (src line 137)


state 70
	expression:  expression.PLUS term 
	expression_list_final:  expression.    (50)

	PLUS  shift 65
	.  reduce 50 (src line 138)


state 71
	map_literal:  LBRACE map_entry_list_opt.RBRACE 

	RBRACE  shift 88
	.  error


state 72
	map_entry_list_opt:  map_entry_list_final.    (53)
	map_entry_list_final:  map_entry_list_final.COMMA map_entry 

	COMMA  shift 89
	.  reduce 53 (src line 139)


state 73
	map_entry_list_final:  map_entry.    (54)

	.  reduce 54 (src line 140)


state 74
	map_entry:  STRING_LIT.COLON expression 

	COLON  shift 90
	.  error


state 75
	if_statement:  KW_IF condition KW_THEN.statement_list KW_END 
	statement_list: .    (11)

	.  reduce 11 (src line 102)

	statement_list  goto 91

state 76
	condition:  expression EQ.expression 

	IDENTIFIER  shift 48
	STRING_LIT  shift 51
	LPAREN  shift 50
	LBRACK  shift 55
	LBRACE  shift 56
	PLACEHOLDER_START  shift 54
	KW_LAST_CALL_RESULT  shift 49
	.  error

	expression  goto 92
	term  goto 45
	literal  goto 46
	placeholder  goto 47
	list_literal  goto 52
	map_literal  goto 53

state 77
	condition:  expression NEQ.expression 

	IDENTIFIER  shift 48
	STRING_LIT  shift 51
	LPAREN  shift 50
	LBRACK  shift 55
	LBRACE  shift 56
	PLACEHOLDER_START  shift 54
	KW_LAST_CALL_RESULT  shift 49
	.  error

	expression  goto 93
	term  goto 45
	literal  goto 46
	placeholder  goto 47
	list_literal  goto 52
	map_literal  goto 53

state 78
	while_statement:  KW_WHILE condition KW_DO.statement_list KW_END 
	statement_list: .    (11)

	.  reduce 11 (src line 102)

	statement_list  goto 94

state 79
	for_each_statement:  KW_FOR KW_EACH IDENTIFIER.KW_IN expression KW_DO statement_list KW_END 

	KW_IN  shift 95
	.  error


state 80
	set_statement:  KW_SET IDENTIFIER ASSIGN expression.    (22)
	expression:  expression.PLUS term 

	PLUS  shift 65
	.  reduce 22 (src line 119)


state 81
	call_statement:  KW_CALL call_target LPAREN expression_list_opt.RPAREN 

	RPAREN  shift 96
	.  error


state 82
	call_target:  KW_TOOL DOT IDENTIFIER.    (30)

	.  reduce 30 (src line 129)


state 83
	expression:  expression PLUS term.    (36)

	.  reduce 36 (src line 131)


state 84
	term:  LPAREN expression RPAREN.    (41)

	.  reduce 41 (src line 132)


state 85
	placeholder:  PLACEHOLDER_START IDENTIFIER PLACEHOLDER_END.    (42)

	.  reduce 42 (src line 133)


state 86
	list_literal:  LBRACK expression_list_opt RBRACK.    (46)

	.  reduce 46 (src line 135)


state 87
	expression_list_final:  expression_list_final COMMA.expression 

	IDENTIFIER  shift 48
	STRING_LIT  shift 51
	LPAREN  shift 50
	LBRACK  shift 55
	LBRACE  shift 56
	PLACEHOLDER_START  shift 54
	KW_LAST_CALL_RESULT  shift 49
	.  error

	expression  goto 97
	term  goto 45
	literal  goto 46
	placeholder  goto 47
	list_literal  goto 52
	map_literal  goto 53

state 88
	map_literal:  LBRACE map_entry_list_opt RBRACE.    (47)

	.  reduce 47 (src line 136)


state 89
	map_entry_list_final:  map_entry_list_final COMMA.map_entry 

	STRING_LIT  shift 74
	.  error

	map_entry  goto 98

state 90
	map_entry:  STRING_LIT COLON.expression 

	IDENTIFIER  shift 48
	STRING_LIT  shift 51
	LPAREN  shift 50
	LBRACK  shift 55
	LBRACE  shift 56
	PLACEHOLDER_START  shift 54
	KW_LAST_CALL_RESULT  shift 49
	.  error

	expression  goto 99
	term  goto 45
	literal  goto 46
	placeholder  goto 47
	list_literal  goto 52
	map_literal  goto 53

state 91
	statement_list:  statement_list.statement 
	statement_list:  statement_list.NEWLINE 
	if_statement:  KW_IF condition KW_THEN statement_list.KW_END 

	KW_END  shift 100
	KW_SET  shift 31
	KW_CALL  shift 32
	KW_RETURN  shift 33
	KW_IF  shift 34
	KW_WHILE  shift 35
	KW_FOR  shift 36
	NEWLINE  shift 22
	.  error

	statement  goto 21
	simple_statement  goto 23
	block_statement  goto 24
	if_statement  goto 28
	while_statement  goto 29
	for_each_statement  goto 30
	set_statement  goto 25
	call_statement  goto 26
	return_statement  goto 27

state 92
	condition:  expression EQ expression.    (33)
	expression:  expression.PLUS term 

	PLUS  shift 65
	.  reduce 33 (src line 130)


state 93
	condition:  expression NEQ expression.    (34)
	expression:  expression.PLUS term 

	PLUS  shift 65
	.  reduce 34 (src line 130)


state 94
	statement_list:  statement_list.statement 
	statement_list:  statement_list.NEWLINE 
	while_statement:  KW_WHILE condition KW_DO statement_list.KW_END 

	KW_END  shift 101
	KW_SET  shift 31
	KW_CALL  shift 32
	KW_RETURN  shift 33
	KW_IF  shift 34
	KW_WHILE  shift 35
	KW_FOR  shift 36
	NEWLINE  shift 22
	.  error

	statement  goto 21
	simple_statement  goto 23
	block_statement  goto 24
	if_statement  goto 28
	while_statement  goto 29
	for_each_statement  goto 30
	set_statement  goto 25
	call_statement  goto 26
	return_statement  goto 27

state 95
	for_each_statement:  KW_FOR KW_EACH IDENTIFIER KW_IN.expression KW_DO statement_list KW_END 

	IDENTIFIER  shift 48
	STRING_LIT  shift 51
	LPAREN  shift 50
	LBRACK  shift 55
	LBRACE  shift 56
	PLACEHOLDER_START  shift 54
	KW_LAST_CALL_RESULT  shift 49
	.  error

	expression  goto 102
	term  goto 45
	literal  goto 46
	placeholder  goto 47
	list_literal  goto 52
	map_literal  goto 53

state 96
	call_statement:  KW_CALL call_target LPAREN expression_list_opt RPAREN.    (23)

	.  reduce 23 (src line 120)


state 97
	expression:  expression.PLUS term 
	expression_list_final:  expression_list_final COMMA expression.    (51)

	PLUS  shift 65
	.  reduce 51 (src line 138)


state 98
	map_entry_list_final:  map_entry_list_final COMMA map_entry.    (55)

	.  reduce 55 (src line 140)


state 99
	expression:  expression.PLUS term 
	map_entry:  STRING_LIT COLON expression.    (56)

	PLUS  shift 65
	.  reduce 56 (src line 141)


state 100
	if_statement:  KW_IF condition KW_THEN statement_list KW_END.    (26)

	.  reduce 26 (src line 124)


state 101
	while_statement:  KW_WHILE condition KW_DO statement_list KW_END.    (27)

	.  reduce 27 (src line 125)


state 102
	for_each_statement:  KW_FOR KW_EACH IDENTIFIER KW_IN expression.KW_DO statement_list KW_END 
	expression:  expression.PLUS term 

	KW_DO  shift 103
	PLUS  shift 65
	.  error


state 103
	for_each_statement:  KW_FOR KW_EACH IDENTIFIER KW_IN expression KW_DO.statement_list KW_END 
	statement_list: .    (11)

	.  reduce 11 (src line 102)

	statement_list  goto 104

state 104
	statement_list:  statement_list.statement 
	statement_list:  statement_list.NEWLINE 
	for_each_statement:  KW_FOR KW_EACH IDENTIFIER KW_IN expression KW_DO statement_list.KW_END 

	KW_END  shift 105
	KW_SET  shift 31
	KW_CALL  shift 32
	KW_RETURN  shift 33
	KW_IF  shift 34
	KW_WHILE  shift 35
	KW_FOR  shift 36
	NEWLINE  shift 22
	.  error

	statement  goto 21
	simple_statement  goto 23
	block_statement  goto 24
	if_statement  goto 28
	while_statement  goto 29
	for_each_statement  goto 30
	set_statement  goto 25
	call_statement  goto 26
	return_statement  goto 27

state 105
	for_each_statement:  KW_FOR KW_EACH IDENTIFIER KW_IN expression KW_DO statement_list KW_END.    (28)

	.  reduce 28 (src line 126)


41 terminals, 30 nonterminals
57 grammar rules, 106/16000 states
0 shift/reduce, 0 reduce/reduce conflicts reported
79 working sets used
memory: parser 114/240000
22 extra closures
175 shift entries, 1 exceptions
46 goto entries
88 entries saved by goto default
Optimizer space used: output 130/240000
130 table entries, 0 zero
maximum spread: 40, maximum offset: 103
